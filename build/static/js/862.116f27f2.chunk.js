"use strict";(self.webpackChunknest_rental=self.webpackChunknest_rental||[]).push([[862],{68418:function(e,t,n){var r=n(66934),o=n(64554),i=n(91614),a=n(80184),s=(0,r.ZP)(o.Z)((function(e){var t=e.theme;return"\n        padding: ".concat(t.spacing(4),";\n")}));t.Z=function(e){var t=e.children;return(0,a.jsx)(s,{className:"MuiPageTitle-wrapper",children:(0,a.jsx)(i.Z,{maxWidth:"lg",children:t})})}},53862:function(e,t,n){n.r(t),n.d(t,{default:function(){return X}});var r=n(6907),o=n(29439),i=n(72791),a=n(61889),s=n(20890),l=n(5167),c=n(24518),d=n(74696),u=n(74165),h=n(15861),p=n(98243),x=n(78820),f=n(97438),v=n(39709),Z=n(88315),m=n(5229),j=n(80184),g=function(e){var t=e.openModal,n=e.setModal,r=e.data,a=e.edit,s=(0,i.useState)(""),c=(0,o.Z)(s,2),d=(c[0],c[1],(0,i.useState)("")),g=(0,o.Z)(d,2),_=(g[0],g[1],(0,i.useState)(null===r||void 0===r?void 0:r.nome)),y=(0,o.Z)(_,2),C=y[0],b=y[1],S=(0,i.useState)(""),w=(0,o.Z)(S,2),k=w[0],P=w[1],B=(0,i.useState)(null===r||void 0===r?void 0:r.cep_inicio),M=(0,o.Z)(B,2),z=M[0],E=M[1],T=(0,i.useState)(""),W=(0,o.Z)(T,2),D=W[0],L=W[1],F=(0,i.useState)(null===r||void 0===r?void 0:r.cep_fim),I=(0,o.Z)(F,2),q=I[0],A=I[1],N=(0,i.useState)(""),R=(0,o.Z)(N,2),V=R[0],H=R[1],O=(0,i.useState)(null===r||void 0===r?void 0:r.valor),G=(0,o.Z)(O,2),Y=G[0],$=G[1],J=(0,i.useState)(""),K=(0,o.Z)(J,2),U=K[0],X=K[1],Q=(0,i.useState)(r.id),ee=(0,o.Z)(Q,2),te=ee[0],ne=(ee[1],(0,i.useState)(!1)),re=(0,o.Z)(ne,2),oe=re[0],ie=re[1],ae=(0,i.useState)(""),se=(0,o.Z)(ae,2),le=se[0],ce=se[1];function de(){return de=(0,h.Z)((0,u.Z)().mark((function e(t){var n,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),ie(!0),n=fetch("https://nestrental.com.br:80/api/fretes/".concat(te),{headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify({nome:C,cep_inicio:z,cep_fim:q,valor:Y})}),e.next=5,n;case 5:return r=e.sent,e.next=8,r.json();case 8:e.sent&&ce("Frete editado com sucesso."),ie(!1),window.location.reload();case 12:case"end":return e.stop()}}),e)}))),de.apply(this,arguments)}function ue(){return(ue=(0,h.Z)((0,u.Z)().mark((function e(t){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),ie(!0),m.Z.post("/fretes",{nome:k,cep_inicio:D,cep_fim:V,valor:U}).then((function(e){202===e.status&&(ce("Frete criado com sucesso."),window.location.reload())})).catch((function(e){ce("Erro no servidor, tente novamente.")})),ie(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var he=i.useContext(l.S).usuario;return(0,j.jsx)(j.Fragment,{children:t&&(0,j.jsxs)("div",{className:p.Z.modalCategory,style:{backgroundColor:"rgb(255, 255, 255)"},children:[(0,j.jsx)("div",{className:p.Z.modal__divCloseButton,children:(0,j.jsx)("button",{className:p.Z.modal__divCloseButton__closeButton,onClick:function(e){return n(!t)},children:(0,j.jsx)(x.LHV,{})})}),(0,j.jsx)(Z.D,{children:"Novo endere\xe7o"}),(0,j.jsxs)("form",{onSubmit:a?function(e){return de.apply(this,arguments)}:function(e){return ue.apply(this,arguments)},children:[(0,j.jsx)("div",{style:{marginTop:"1rem"},children:(0,j.jsx)(f.Z,{id:"name_ship",type:"text",label:"Descri\xe7\xe3o",fullWidth:!0,required:!0,color:"primary",size:"small",placeholder:"Digite a descri\xe7\xe3o do frete",value:a?C:k,onChange:a?function(e){return b(e.target.value)}:function(e){return P(e.target.value)}})}),(0,j.jsx)("div",{style:{marginTop:"1rem"},children:(0,j.jsx)(f.Z,{id:"cep_init_ship",type:"text",label:"CEP sa\xedda",size:"small",fullWidth:!0,required:!0,color:"primary",placeholder:"Digite o cep de sa\xedda do frete",value:a?z:D,onChange:a?function(e){return E(e.target.value)}:function(e){return L(e.target.value)}})}),(0,j.jsx)("div",{style:{marginTop:"1rem"},children:(0,j.jsx)(f.Z,{id:"cep_ship_end",type:"text",size:"small",label:"CEP chegada",fullWidth:!0,required:!0,color:"primary",placeholder:"Digite o cep de chegada do frete",value:a?q:V,onChange:a?function(e){return A(e.target.value)}:function(e){return H(e.target.value)}})}),(0,j.jsx)("div",{style:{marginTop:"1rem"},children:(0,j.jsx)(f.Z,{id:"cep_value",type:"number",label:"Valor R$",fullWidth:!0,size:"small",required:!0,color:"primary",placeholder:"R$",value:a?Y:U,onChange:a?function(e){return $(e.target.value)}:function(e){return X(e.target.value)}})}),3===(null===he||void 0===he?void 0:he.id_perfil)?"":(0,j.jsxs)("div",{style:{display:"flex",gridGap:"1rem",width:"20rem",marginTop:"1rem"},children:[a?(0,j.jsx)(v.Z,{color:"primary",type:"submit",variant:"contained",size:"medium",loading:!!oe,children:"Editar"}):(0,j.jsx)(v.Z,{color:"primary",type:"submit",variant:"contained",size:"medium",loading:!!oe,children:"Cadastrar"}),(0,j.jsx)(v.Z,{color:"warning",type:"submit",variant:"contained",size:"medium",onClick:function(e){return n(!t)},children:"Cancelar"})]}),(0,j.jsx)("div",{children:!oe&&(0,j.jsx)("p",{style:{color:"green"},children:le})})]})]})})};var _=function(){var e=i.useState(!1),t=(0,o.Z)(e,2),n=t[0],r=t[1],u=(0,i.useContext)(l.S).usuario;return(0,j.jsxs)(a.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,j.jsxs)(a.ZP,{item:!0,children:[(0,j.jsx)(s.Z,{variant:"h3",component:"h3",gutterBottom:!0,children:"Frete"}),(0,j.jsx)(s.Z,{variant:"subtitle2",children:"Consulte as regi\xf5es de frete de seus produtos"})]}),(0,j.jsx)(a.ZP,{item:!0,children:3===(null===u||void 0===u?void 0:u.id_perfil)?"":(0,j.jsx)(c.Z,{sx:{mt:{xs:2,md:0}},variant:"contained",startIcon:(0,j.jsx)(d.Z,{fontSize:"small"}),style:{backgroundColor:"rgb(18, 80, 130)"},onClick:function(e){return r(!n)},children:"Cadastrar Endere\xe7o"})}),(0,j.jsx)(g,{setModal:r,openModal:n,data:"",edit:!1})]})},y=n(68418),C=n(91614),b=n(57621),S=n(93433),w=n(13967),k=n(64554),P=n(9585),B=n(94721),M=n(39281),z=n(79836),E=n(56890),T=n(35855),W=n(53994),D=n(53382),L=n(94454),F=n(70493),I=n(13400),q=n(97513),A=n(34045),N=n(31675),R=n(71715),V=n(66934),H=n(68036),O=n(74934),G=(0,V.ZP)(c.Z)((function(e){var t=e.theme;return"\n     background: ".concat(t.colors.error.main,";\n     color: ").concat(t.palette.error.contrastText,";\n\n     &:hover {\n        background: ").concat(t.colors.error.dark,";\n     }\n    ")}));var Y=function(e){var t=e.id_ship,n=(0,i.useState)(!1),r=(0,o.Z)(n,2),a=r[0],l=r[1],c=(0,i.useRef)(null),d=(0,i.useState)(""),p=(0,o.Z)(d,2),x=(p[0],p[1]),f=(0,i.useState)(""),v=(0,o.Z)(f,2),Z=(v[0],v[1],(0,i.useState)(!1)),m=(0,o.Z)(Z,2),g=(m[0],m[1]),_=function(){var e=(0,h.Z)((0,u.Z)().mark((function e(n){var r,o;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),n.preventDefault(),r=fetch("https://nestrental.com.br:80/api/fretes/".concat(t[0]),{method:"DELETE"}),e.next=5,r;case 5:return o=e.sent,e.next=8,o.json();case 8:e.sent,x("Frete exclu\xeddo com sucesso."),window.location.reload();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(k.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,j.jsxs)(k.Z,{display:"flex",alignItems:"center",children:[(0,j.jsx)(s.Z,{variant:"h5",color:"text.secondary",children:"A\xe7\xf5es:"}),(0,j.jsx)(G,{sx:{ml:1},startIcon:(0,j.jsx)(H.Z,{}),variant:"contained",onClick:function(e){return _(e)},children:"Excluir"})]}),(0,j.jsx)(I.Z,{color:"primary",onClick:function(){l(!0)},ref:c,sx:{ml:2,p:1},children:(0,j.jsx)(O.Z,{})})]}),(0,j.jsx)(R.Z,{keepMounted:!0,anchorEl:c.current,open:a,onClose:function(){l(!1)},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}})]})},$=n(56355),J=function(e){var t=e.ships,n=(0,i.useState)([]),r=(0,o.Z)(n,2),a=r[0],l=r[1],c=a.length>0,d=(0,i.useState)(0),p=(0,o.Z)(d,2),x=p[0],f=p[1],v=(0,i.useState)(5),Z=(0,o.Z)(v,2),_=Z[0],y=Z[1],C=(0,i.useCallback)((function(){var e=A.P6.json_to_sheet(t),n=A.P6.book_new();A.P6.book_append_sheet(n,e,"Data"),(0,A.Fv)(n,"Entrega.xlsx")}),[t]),R=function(e){return e.filter((function(e){return!0}))}(t),V=function(e,t,n){return e.slice(t*n,t*n+n)}(R,x,_),H=(a.length>0&&(a.length,t.length),a.length,t.length,(0,w.Z)()),O=(0,i.useState)([]),G=(0,o.Z)(O,2),J=G[0],K=G[1],U=(0,i.useState)([]),X=(0,o.Z)(U,2),Q=(X[0],X[1],(0,i.useState)(!1)),ee=(0,o.Z)(Q,2),te=ee[0],ne=ee[1];function re(){return re=(0,h.Z)((0,u.Z)().mark((function e(t){var n,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(!te),K(null),e.next=4,m.Z.get("/fretes/".concat(t));case 4:n=e.sent,r=n.data,K(r||null);case 7:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}return(0,j.jsxs)(b.Z,{children:[c&&(0,j.jsx)(k.Z,{flex:1,p:2,children:(0,j.jsx)(Y,{id_ship:a})}),!c&&(0,j.jsx)(P.Z,{action:(0,j.jsx)(k.Z,{width:150,children:(0,j.jsx)($.veA,{onClick:C,style:{textAlign:"right",position:"relative",left:"7rem",height:"25px",width:"25px",cursor:"pointer"}})}),title:"Regi\xf5es cadastradas"}),(0,j.jsx)(B.Z,{}),(0,j.jsx)(M.Z,{children:(0,j.jsxs)(z.Z,{children:[(0,j.jsx)(E.Z,{children:(0,j.jsxs)(T.Z,{children:[(0,j.jsx)(W.Z,{}),(0,j.jsx)(W.Z,{children:"Descri\xe7\xe3o"}),(0,j.jsx)(W.Z,{children:"CEP Sa\xedda"}),(0,j.jsx)(W.Z,{children:"CEP Destino"}),(0,j.jsx)(W.Z,{children:"Valor"}),(0,j.jsx)(W.Z,{align:"right",children:"A\xe7\xf5es"})]})}),(0,j.jsx)(D.Z,{children:V.map((function(e){var t=a.includes(e.id);return(0,j.jsxs)(T.Z,{hover:!0,selected:t,children:[(0,j.jsx)(W.Z,{padding:"checkbox",children:(0,j.jsx)(L.Z,{color:"primary",checked:t,onChange:function(t){return function(e,t){a.includes(t)?l((function(e){return e.filter((function(e){return e!==t}))})):l((function(e){return[].concat((0,S.Z)(e),[t])}))}(0,e.id)},value:t})}),(0,j.jsx)(W.Z,{children:(0,j.jsx)(s.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:null===e||void 0===e?void 0:e.nome})}),(0,j.jsx)(W.Z,{children:(0,j.jsx)(s.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:null===e||void 0===e?void 0:e.cep_inicio})}),(0,j.jsx)(W.Z,{children:(0,j.jsx)(s.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:null===e||void 0===e?void 0:e.cep_fim})}),(0,j.jsx)(W.Z,{children:(0,j.jsx)(s.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:null===e||void 0===e?void 0:e.valor.toLocaleString("pt-br",{style:"currency",currency:"BRL"})})}),(0,j.jsx)(W.Z,{align:"right",children:(0,j.jsx)(F.Z,{title:"Editar categoria",arrow:!0,children:(0,j.jsx)(I.Z,{sx:{"&:hover":{background:H.colors.primary.lighter},color:H.palette.primary.main},color:"inherit",size:"small",onClick:function(t){return function(e){return re.apply(this,arguments)}(null===e||void 0===e?void 0:e.id)},children:(0,j.jsx)(N.Z,{fontSize:"small"})})})})]},e.id)}))})]})}),(0,j.jsx)(k.Z,{p:2,children:(0,j.jsx)(q.Z,{component:"div",count:R.length,onPageChange:function(e,t){f(t)},onRowsPerPageChange:function(e){y(parseInt(e.target.value))},page:x,rowsPerPage:_,rowsPerPageOptions:[5,10,25,30]})}),J&&te&&(0,j.jsx)(g,{openModal:te,setModal:ne,data:J,edit:!0})]})};J.defaultProps={ships:[]};var K=J;var U=function(){var e=(0,i.useState)([]),t=(0,o.Z)(e,2),n=t[0],r=t[1];function a(){return(a=(0,h.Z)((0,u.Z)().mark((function e(){var t,n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.Z.get("/fretes");case 2:t=e.sent,n=t.data,r(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,i.useEffect)((function(){!function(){a.apply(this,arguments)}()}),[]),(0,j.jsx)(b.Z,{children:(0,j.jsx)(K,{ships:n||[]})})};var X=function(){return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(r.ql,{children:(0,j.jsx)("title",{children:"Produtos - Cadastrar"})}),(0,j.jsx)(y.Z,{children:(0,j.jsx)(_,{})}),(0,j.jsx)(C.Z,{maxWidth:"lg",children:(0,j.jsx)(a.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,j.jsx)(a.ZP,{item:!0,xs:12,children:(0,j.jsx)(U,{})})})})]})}},74696:function(e,t,n){var r=n(95318);t.Z=void 0;var o=r(n(45649)),i=n(80184),a=(0,o.default)((0,i.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddTwoTone");t.Z=a},31675:function(e,t,n){var r=n(95318);t.Z=void 0;var o=r(n(45649)),i=n(80184),a=(0,o.default)([(0,i.jsx)("path",{d:"M5 18.08V19h.92l9.06-9.06-.92-.92z",opacity:".3"},"0"),(0,i.jsx)("path",{d:"M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83zM3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06.92.92L5.92 19z"},"1")],"EditTwoTone");t.Z=a},98243:function(e,t){t.Z={modal:"Modal_modal__5Lj9m",modal__divCloseButton:"Modal_modal__divCloseButton__tTZ3Y",modal__divCloseButton__closeButton:"Modal_modal__divCloseButton__closeButton__ABY0m",modal__closeButton:"Modal_modal__closeButton__ZDrqX",modalCategory:"Modal_modalCategory__IjrSy",modalCategory__divCloseButton:"Modal_modalCategory__divCloseButton__5mZKo",modalCategory__closeButton:"Modal_modalCategory__closeButton__fGLZH"}}}]);
//# sourceMappingURL=862.116f27f2.chunk.js.map