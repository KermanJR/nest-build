"use strict";(self.webpackChunknest_rental=self.webpackChunknest_rental||[]).push([[853],{25206:function(t,n,e){e.d(n,{Z:function(){return G}});var r=e(74165),i=e(15861),s=e(93433),a=e(29439),o=e(72791),l=e(30960),c=e(26098),d=e.n(c),x=e(56355),h=e(13967),u=e(57621),p=e(64554),Z=e(9585),j=e(68096),f=e(94721),g=e(39281),v=e(79836),m=e(56890),y=e(35855),b=e(53994),w=e(53382),k=e(94454),C=e(20890),W=e(70493),P=e(13400),S=e(97513),_=e(34045),I=e(91183),F=e(72426),z=e.n(F),A=e(24518),B=e(71715),E=e(66934),M=e(68036),D=e(74934),T=e(80184),q=(0,E.ZP)(A.Z)((function(t){var n=t.theme;return"\n     background: ".concat(n.colors.error.main,";\n     color: ").concat(n.palette.error.contrastText,";\n\n     &:hover {\n        background: ").concat(n.colors.error.dark,";\n     }\n    ")}));var R=function(){var t=(0,o.useState)(!1),n=(0,a.Z)(t,2),e=n[0],r=n[1],i=(0,o.useRef)(null);return(0,T.jsxs)(T.Fragment,{children:[(0,T.jsxs)(p.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,T.jsxs)(p.Z,{display:"flex",alignItems:"center",children:[(0,T.jsx)(C.Z,{variant:"h5",color:"text.secondary",children:"A\xe7\xf5es:"}),(0,T.jsx)(q,{sx:{ml:1},startIcon:(0,T.jsx)(M.Z,{}),variant:"contained",children:"Excluir"})]}),(0,T.jsx)(P.Z,{color:"primary",onClick:function(){r(!0)},ref:i,sx:{ml:2,p:1},children:(0,T.jsx)(D.Z,{})})]}),(0,T.jsx)(B.Z,{keepMounted:!0,anchorEl:i.current,open:e,onClose:function(){r(!1)},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}})]})},V=e(39126),L=e(5229),O=function(t){var n=t.orders,e=t.panel,c=(0,o.useState)([]),F=(0,a.Z)(c,2),A=F[0],B=F[1],E=A.length>0,M=(0,o.useState)(0),D=(0,a.Z)(M,2),q=D[0],O=D[1],G=(0,o.useState)(5),N=(0,a.Z)(G,2),Y=N[0],$=N[1],H=(0,o.useCallback)((function(){var t=_.P6.json_to_sheet(n),e=_.P6.book_new();_.P6.book_append_sheet(e,t,"Data"),(0,_.Fv)(e,"Pedidos.xlsx")}),[n]),J=function(t){return t.filter((function(t){return!0}))}(n),K=function(t,n,e){return t.slice(n*e,n*e+e)}(J,q,Y),Q=(A.length>0&&(A.length,n.length),A.length,n.length,(0,h.Z)()),U=(0,o.useState)({}),X=(0,a.Z)(U,2),tt=X[0],nt=X[1],et=(0,o.useState)([]),rt=(0,a.Z)(et,2),it=(rt[0],rt[1],(0,o.useState)(!1)),st=(0,a.Z)(it,2),at=st[0],ot=st[1],lt=(0,o.useState)(""),ct=(0,a.Z)(lt,2),dt=ct[0];ct[1];function xt(){return xt=(0,i.Z)((0,r.Z)().mark((function t(n){var e,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return ot(!at),nt(null),t.next=4,l.hi.get("/pedidos/".concat(n));case 4:e=t.sent,i=e.data,nt(i?{data:i}:null);case 7:case"end":return t.stop()}}),t)}))),xt.apply(this,arguments)}function ht(){return ht=(0,i.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:L.Z.get("/clicksign/get-status-document/".concat(n),{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(t){return t.data.data.document.status})).catch((function(t){console.log(t)}));case 1:case"end":return t.stop()}}),t)}))),ht.apply(this,arguments)}return(0,o.useEffect)((function(){!function(t){ht.apply(this,arguments)}(dt)}),[dt]),(0,T.jsxs)(u.Z,{children:[E&&(0,T.jsx)(p.Z,{flex:1,p:2,children:(0,T.jsx)(R,{})}),!E&&(0,T.jsx)(Z.Z,{action:(0,T.jsxs)(p.Z,{width:150,children:[(0,T.jsx)(j.Z,{fullWidth:!0,variant:"outlined"}),(0,T.jsx)(x.veA,{onClick:H,style:{textAlign:"right",position:"relative",left:"7rem",height:"25px",width:"25px",cursor:"pointer"}})]}),title:e?"Pedidos recentes":"Pedidos cadastrados"}),(0,T.jsx)(f.Z,{}),(0,T.jsx)(g.Z,{children:(0,T.jsxs)(v.Z,{children:[(0,T.jsx)(m.Z,{children:(0,T.jsxs)(y.Z,{children:[(0,T.jsx)(b.Z,{}),(0,T.jsx)(b.Z,{children:"Empresa"}),(0,T.jsx)(b.Z,{children:"Contato"}),(0,T.jsx)(b.Z,{children:"In\xedcio e Devolu\xe7\xe3o"}),(0,T.jsx)(b.Z,{align:"right",children:"Valor"}),(0,T.jsx)(b.Z,{align:"right",children:"Status"}),(0,T.jsx)(b.Z,{align:"right",children:"A\xe7\xf5es"})]})}),(0,T.jsx)(w.Z,{children:K.map((function(t){var n,e,r=A.includes(t.id);return(0,T.jsxs)(y.Z,{hover:!0,selected:r,children:[(0,T.jsx)(b.Z,{padding:"checkbox",children:(0,T.jsx)(k.Z,{color:"primary",checked:r,onChange:function(n){return function(t,n){A.includes(n)?B((function(t){return t.filter((function(t){return t!==n}))})):B((function(t){return[].concat((0,s.Z)(t),[n])}))}(0,t.id)},value:r})}),(0,T.jsx)(b.Z,{children:(0,T.jsx)(C.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:null===t||void 0===t||null===(n=t.cliente)||void 0===n?void 0:n.razao_social})}),(0,T.jsx)(b.Z,{children:(0,T.jsx)(C.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:null===t||void 0===t||null===(e=t.cliente)||void 0===e?void 0:e.email})}),(0,T.jsxs)(b.Z,{children:[(0,T.jsx)(C.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:z()(t.data_inicio).utc().format("DD/MM/yyyy")}),(0,T.jsx)(C.Z,{variant:"body1",fontWeight:"bold",color:"text.secondary",gutterBottom:!0,noWrap:!0,children:z()(t.data_entrega).utc().format("DD/MM/yyyy")})]}),(0,T.jsxs)(b.Z,{align:"right",children:[(0,T.jsx)(C.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0}),(0,T.jsxs)(C.Z,{variant:"body2",color:"text.secondary",noWrap:!0,children:["R$",d()(t.vr_total).format("0,0.00")]})]}),(0,T.jsxs)(b.Z,{align:"right",children:[(0,T.jsx)(C.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0}),(0,T.jsxs)(C.Z,{variant:"body2",color:"text.secondary",noWrap:!0,children:["encerrado"===(null===t||void 0===t?void 0:t.status)&&(0,T.jsx)("p",{style:{color:"red",fontSize:".875rem",fontWeight:"bold"},children:"Encerrado"}),"aberto"===(null===t||void 0===t?void 0:t.status)&&(0,T.jsx)("p",{style:{color:"green",fontSize:".875rem",fontWeight:"bold"},children:"Em aberto"})]})]}),(0,T.jsx)(b.Z,{align:"right",children:(0,T.jsx)(W.Z,{title:"Visualizar pedido",arrow:!0,children:(0,T.jsx)(P.Z,{sx:{"&:hover":{background:Q.colors.primary.lighter},color:Q.palette.primary.main},color:"inherit",size:"small",onClick:function(n){return function(t){return xt.apply(this,arguments)}(null===t||void 0===t?void 0:t.id)},children:(0,T.jsx)(V.rCC,{style:{width:"20px",height:"20px"}})})})})]},t.id)}))})]})}),(0,T.jsx)(p.Z,{p:2,children:(0,T.jsx)(S.Z,{component:"div",count:J.length,onPageChange:function(t,n){O(n)},onRowsPerPageChange:function(t){$(parseInt(t.target.value))},page:q,rowsPerPage:Y,rowsPerPageOptions:[5,10,25,30]})}),tt&&at&&(0,T.jsx)(I.F,{openModal:at,setModal:ot,data:tt,edit:!0})]})};O.defaultProps={orders:[]};var G=O},63124:function(t,n,e){e.r(n),e.d(n,{default:function(){return I}});var r=e(6907),i=e(68418),s=e(91614),a=e(61889),o=e(29439),l=e(72791),c=e(66934),d=e(57621),x=e(20890),h=e(24518),u=e(74165),p=e(15861),Z=e(93044),j=e(12065),f=e(64554),g=e(5229),v=e(25763),m=e(68014),y=e(16856),b=e(25206),w=e(5167),k=e(80184),C=(0,c.ZP)(Z.Z)((function(t){var n=t.theme;return"\n    margin: ".concat(n.spacing(0,0,1,-.5),";\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-right: ").concat(n.spacing(1),";\n    padding: ").concat(n.spacing(.5),";\n    border-radius: 60px;\n    height: ").concat(n.spacing(5.5),";\n    width: ").concat(n.spacing(5.5),";\n    background: ").concat("dark"===n.palette.mode?n.colors.alpha.trueWhite[30]:(0,j.Fq)(n.colors.alpha.black[100],.07),";\n  \n    img {\n      background: ").concat(n.colors.alpha.trueWhite[100],";\n      padding: ").concat(n.spacing(.5),";\n      display: block;\n      border-radius: inherit;\n      height: ").concat(n.spacing(4.5),";\n      width: ").concat(n.spacing(4.5),";\n    }\n")}));var W=function(){var t,n=(0,l.useState)(""),e=(0,o.Z)(n,2),r=e[0],i=e[1],s=(0,l.useState)(null),c=(0,o.Z)(s,2),h=c[0],Z=c[1],j=(0,l.useState)(null),W=(0,o.Z)(j,2),P=W[0],S=W[1],_=(0,l.useState)([]),I=(0,o.Z)(_,2),F=I[0],z=I[1],A=l.useContext(w.S).usuario;function B(){return(B=(0,p.Z)((0,u.Z)().mark((function t(){var n,e;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.Z.get("/usuarios/total");case 2:n=t.sent,e=n.data,i(e.total);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function E(){return(E=(0,p.Z)((0,u.Z)().mark((function t(){var n,e;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.Z.get("/pedidos/total");case 2:n=t.sent,e=n.data,Z(e.pedidos),S(e.produto);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function M(){return(M=(0,p.Z)((0,u.Z)().mark((function t(){var n,e;return(0,u.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.Z.get("/pedidos/painel/".concat(null===A||void 0===A?void 0:A.id));case 2:n=t.sent,e=n.data,z(e);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return(0,l.useEffect)((function(){!function(){B.apply(this,arguments)}(),function(){E.apply(this,arguments)}(),function(){M.apply(this,arguments)}()}),[]),(0,k.jsxs)(k.Fragment,{children:[(0,k.jsxs)(a.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:[(0,k.jsx)(a.ZP,{item:!0,md:4,xs:12,children:(0,k.jsx)(d.Z,{sx:{overflow:"visible"},children:(0,k.jsxs)(f.Z,{sx:{p:3},children:[(0,k.jsxs)(f.Z,{display:"flex",alignItems:"center",children:[(0,k.jsx)(C,{children:(0,k.jsx)(v.Lqe,{style:{width:"30px",height:"30px",fill:"#223354"}})}),(0,k.jsx)(f.Z,{children:(0,k.jsx)(x.Z,{variant:"h4",noWrap:!0,children:"Clientes"})})]}),(0,k.jsx)(f.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",pt:3},children:(0,k.jsxs)(x.Z,{variant:"h2",sx:{pr:1,mb:1},children:[r," Cadastrados"]})}),(0,k.jsx)(f.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:(0,k.jsx)(x.Z,{variant:"body2",color:"text.secondary",sx:{pl:1}})})]})})}),(0,k.jsx)(a.ZP,{item:!0,md:4,xs:12,children:(0,k.jsx)(d.Z,{sx:{overflow:"visible"},children:(0,k.jsxs)(f.Z,{sx:{p:3},children:[(0,k.jsxs)(f.Z,{display:"flex",alignItems:"center",children:[(0,k.jsx)(C,{children:(0,k.jsx)(y.sF1,{style:{width:"30px",height:"30px",fill:"#223354"}})}),(0,k.jsxs)(f.Z,{children:[(0,k.jsx)(x.Z,{variant:"h4",noWrap:!0,children:"Valor Total"}),(0,k.jsx)(x.Z,{variant:"subtitle1",noWrap:!0})]})]}),(0,k.jsx)(f.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",pt:3},children:(0,k.jsx)(x.Z,{variant:"h2",sx:{pr:1,mb:1},children:null===h||void 0===h||null===(t=h.valor_total)||void 0===t?void 0:t.toLocaleString("pt-br",{style:"currency",currency:"BRL"})})}),(0,k.jsx)(f.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:(0,k.jsx)(x.Z,{variant:"body2",color:"text.secondary",sx:{pl:1}})})]})})}),(0,k.jsx)(a.ZP,{item:!0,md:4,xs:12,children:(0,k.jsx)(d.Z,{sx:{overflow:"visible"},children:(0,k.jsxs)(f.Z,{sx:{p:3},children:[(0,k.jsxs)(f.Z,{display:"flex",alignItems:"center",children:[(0,k.jsx)(C,{children:(0,k.jsx)(m.AmY,{style:{width:"30px",height:"30px",fill:"#223354"}})}),(0,k.jsxs)(f.Z,{children:[(0,k.jsx)(x.Z,{variant:"h4",noWrap:!0,children:"Mais Alugado"}),(0,k.jsx)(x.Z,{variant:"subtitle1",noWrap:!0})]})]}),(0,k.jsx)(f.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start",pt:3},children:(0,k.jsx)(x.Z,{variant:"h2",sx:{pr:1,mb:1},children:null===P||void 0===P?void 0:P.nome})}),(0,k.jsx)(f.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"flex-start"},children:(0,k.jsx)(x.Z,{variant:"body2",color:"text.secondary",sx:{pl:1}})})]})})})]}),(0,k.jsx)("div",{style:{marginTop:"3rem"},children:F&&(0,k.jsx)(b.Z,{orders:F,panel:!0,className:""})})]})},P=(0,c.ZP)("img")((function(t){var n=t.theme;return"\n      max-width: 100%;\n      width: ".concat(n.spacing(66),";\n      height: ").concat(n.spacing(34),";\n")}));var S=function(){var t=(0,l.useState)("watch_list_columns"),n=(0,o.Z)(t,2),e=n[0];return n[1],(0,k.jsxs)(k.Fragment,{children:["watch_list_columns"===e&&(0,k.jsx)(W,{}),!e&&(0,k.jsxs)(d.Z,{sx:{textAlign:"center",p:3},children:[(0,k.jsx)(P,{src:"/static/images/placeholders/illustrations/1.svg"}),(0,k.jsx)(x.Z,{align:"center",variant:"h2",fontWeight:"normal",color:"text.secondary",sx:{mt:3},gutterBottom:!0,children:"Adicione novos campos aqui!"}),(0,k.jsx)(h.Z,{variant:"contained",size:"large",sx:{mt:4},children:"Voltar para o Painel"})]})]})},_=e(16871);var I=function(){var t=(0,l.useContext)(w.S).usuario;return(0,k.jsx)(k.Fragment,{children:1==(null===t||void 0===t?void 0:t.id_perfil)||3==(null===t||void 0===t?void 0:t.id_perfil)?(0,k.jsxs)(k.Fragment,{children:[(0,k.jsx)(r.ql,{children:(0,k.jsx)("title",{children:"Dashboard - Geral"})}),(0,k.jsx)(i.Z,{}),(0,k.jsx)(s.Z,{maxWidth:"lg",children:(0,k.jsx)(a.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:4,children:(0,k.jsx)(a.ZP,{item:!0,xs:12,children:(0,k.jsx)(S,{})})})})]}):(0,k.jsx)(k.Fragment,{children:(0,k.jsx)(_.Fg,{to:"/dashboard/admin/pedidos"})})})}}}]);
//# sourceMappingURL=853.8b15b841.chunk.js.map