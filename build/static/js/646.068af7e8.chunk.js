"use strict";(self.webpackChunknest_rental=self.webpackChunknest_rental||[]).push([[646],{68418:function(e,t,n){var a=n(66934),r=n(64554),i=n(91614),s=n(80184),l=(0,a.ZP)(r.Z)((function(e){var t=e.theme;return"\n        padding: ".concat(t.spacing(4),";\n")}));t.Z=function(e){var t=e.children;return(0,s.jsx)(l,{className:"MuiPageTitle-wrapper",children:(0,s.jsx)(i.Z,{maxWidth:"lg",children:t})})}},78732:function(e,t,n){n.r(t),n.d(t,{default:function(){return pe}});var a=n(6907),r=n(29439),i=n(61889),s=n(20890),l=n(24518),o=n(74696),c=n(72791),d=n(5167),u=n(74165),p=n(15861),h=n(98243),m=n(78820),x=n(88315),f=n(57184),y=n(16856),g=n(30960),v=n(41591),b=n(39126),j=n(35010),Z=n(97873),_=n(33130),w=n(39709),S=n(97438),C=n(5229),k=n(48639),T=n(47648),D=n.n(T),z=n(25678),P=n(80184),W=function(e){var t=e.openModal,n=e.setModal,a=(e.data,e.edit,(0,f.c)("telefone")),i=(0,f.c)("cnpj"),s=c.useState(null),l=(0,r.Z)(s,2),o=l[0],d=l[1],T=c.useState(""),D=(0,r.Z)(T,2),W=D[0],B=D[1],q=c.useState(""),N=(0,r.Z)(q,2),E=N[0],I=N[1],R=c.useState(""),G=(0,r.Z)(R,2),A=G[0],L=G[1],O=c.useState(""),M=(0,r.Z)(O,2),F=M[0],J=M[1],$=c.useState(""),V=(0,r.Z)($,2),U=(V[0],V[1],c.useState("")),Y=(0,r.Z)(U,2),H=(Y[0],Y[1],c.useState("")),Q=(0,r.Z)(H,2),K=Q[0],X=Q[1],ee=((0,f.c)("cnpj"),(0,c.useState)([])),te=(0,r.Z)(ee,2),ne=te[0],ae=te[1],re=c.useState(""),ie=(0,r.Z)(re,2),se=ie[0],le=ie[1],oe=(0,c.useState)([]),ce=(0,r.Z)(oe,2),de=ce[0],ue=ce[1],pe=(0,c.useState)(null),he=(0,r.Z)(pe,2),me=(he[0],he[1],(0,c.useState)(null)),xe=(0,r.Z)(me,2),fe=xe[0],ye=xe[1],ge=c.useState(""),ve=(0,r.Z)(ge,2),be=ve[0],je=ve[1],Ze=c.useState(!1),_e=(0,r.Z)(Ze,2),we=_e[0],Se=_e[1],Ce=c.useState(""),ke=(0,r.Z)(Ce,2),Te=(ke[0],ke[1]),De=c.useState(""),ze=(0,r.Z)(De,2),Pe=(ze[0],ze[1]),We=c.useState(""),Be=(0,r.Z)(We,2),qe=(Be[0],Be[1]),Ne=c.useState(""),Ee=(0,r.Z)(Ne,2),Ie=Ee[0],Re=Ee[1],Ge=c.useState(""),Ae=(0,r.Z)(Ge,2),Le=Ae[0],Oe=Ae[1],Me=c.useState(""),Fe=(0,r.Z)(Me,2),Je=Fe[0],$e=Fe[1],Ve=c.useState(!1),Ue=(0,r.Z)(Ve,2),Ye=Ue[0],He=Ue[1],Qe=c.useState(""),Ke=(0,r.Z)(Qe,2),Xe=Ke[0],et=Ke[1],tt=c.useState(""),nt=(0,r.Z)(tt,2),at=nt[0],rt=nt[1],it=c.useState(""),st=(0,r.Z)(it,2),lt=st[0],ot=st[1],ct=c.useState(""),dt=(0,r.Z)(ct,2),ut=dt[0],pt=dt[1],ht=c.useState(""),mt=(0,r.Z)(ht,2),xt=mt[0],ft=mt[1],yt=c.useState(""),gt=(0,r.Z)(yt,2),vt=gt[0],bt=gt[1],jt=c.useState(""),Zt=(0,r.Z)(jt,2),_t=(Zt[0],Zt[1],c.useState("")),wt=(0,r.Z)(_t,2),St=wt[0],Ct=wt[1],kt=c.useState(""),Tt=(0,r.Z)(kt,2),Dt=Tt[0],zt=Tt[1],Pt=c.useState(""),Wt=(0,r.Z)(Pt,2),Bt=Wt[0],qt=Wt[1],Nt=c.useState(""),Et=(0,r.Z)(Nt,2),It=Et[0],Rt=Et[1],Gt=c.useState(""),At=(0,r.Z)(Gt,2),Lt=At[0],Ot=At[1],Mt=c.useState(""),Ft=(0,r.Z)(Mt,2),Jt=Ft[0],$t=(Ft[1],c.useState("")),Vt=(0,r.Z)($t,2),Ut=Vt[0],Yt=(Vt[1],c.useState("")),Ht=(0,r.Z)(Yt,2),Qt=Ht[0],Kt=Ht[1],Xt=c.useState(""),en=(0,r.Z)(Xt,2),tn=en[0],nn=en[1],an=c.useState(""),rn=(0,r.Z)(an,2),sn=rn[0],ln=rn[1],on=c.useState(""),cn=(0,r.Z)(on,2),dn=cn[0],un=cn[1],pn=c.useState(""),hn=(0,r.Z)(pn,2),mn=hn[0],xn=hn[1],fn=c.useState(""),yn=(0,r.Z)(fn,2),gn=yn[0],vn=(yn[1],c.useState("")),bn=(0,r.Z)(vn,2),jn=bn[0],Zn=(bn[1],c.useState("")),_n=(0,r.Z)(Zn,2),wn=_n[0],Sn=_n[1],Cn=(0,Z.i)().request,kn=c.useContext(_.J),Tn=kn.setIdProduct,Dn=kn.totalDays,zn=(kn.price,kn.newPrice),Pn=kn.setStartDate,Wn=kn.setEndDate,Bn=kn.startDate,qn=kn.endDate,Nn=kn.nameProduct,En=kn.idProduct;function In(e){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,p.Z)((0,u.Z)().mark((function e(t){var n,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||8!==t.length){e.next=8;break}return e.next=3,(0,v.Z)(t);case 3:n=e.sent,(a=n.cep.split("-",1))>="11000"&&a<="11999"||a>="12000"&&a<="19999"?(Sn(n.logradouro+", "+n.bairro+", "+n.localidade+", "+n.uf),d(1800),le("")):a>="06000"&&a<="09999"?(Sn(n.logradouro+", "+n.bairro+", "+n.localidade+", "+n.uf),d(730),le("")):a>="01000"&&a<="05999"?(Sn(n.logradouro+", "+n.bairro+", "+n.localidade+", "+n.uf),d(320),le("")):(Sn(""),le("\xc1rea fora de cobertura de nossos servi\xe7os, por favor, tente novamente."),d(null)),e.next=11;break;case 8:Sn(""),le(""),d(null);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gn(){return Gn=(0,p.Z)((0,u.Z)().mark((function e(){var t,n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(null),e.next=3,g.hi.get("/produtos");case 3:t=e.sent,n=t.data,ae(n||null);case 6:case"end":return e.stop()}}),e)}))),Gn.apply(this,arguments)}var An={value:"Criar novo usu\xe1rio",label:"Criar novo usu\xe1rio",id:22},Ln=[];function On(){return On=(0,p.Z)((0,u.Z)().mark((function e(){var t,n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.hi.get("/usuarios/type/2");case 2:t=e.sent,(n=t.data)?(n.map((function(e,t){Ln.push({defaultClient:An,value:e.entidade.razao_social,label:e.entidade.razao_social,id:e.id})})),ue([An].concat(Ln))):ue(null);case 5:case"end":return e.stop()}}),e)}))),On.apply(this,arguments)}var Mn=c.useState(null),Fn=(0,r.Z)(Mn,2),Jn=Fn[0],$n=Fn[1];function Vn(){return(Vn=(0,p.Z)((0,u.Z)().mark((function e(){var t,n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(22!=Jn.id){e.next=7;break}Se(!0),ye(""),I(""),B(""),e.next=13;break;case 7:return Se(!1),e.next=10,g.hi.get("/usuarios/".concat(Jn.id));case 10:t=e.sent,(n=t.data)?(ye(n),n.entidade.enderecos[1]?(In(n.entidade.enderecos[1].endereco.cep),I("\n                        ".concat(n.entidade.enderecos[1].endereco.rua,",\n                        ").concat(n.entidade.enderecos[1].endereco.bairro,",\n                        ").concat(n.entidade.enderecos[1].endereco.cidade.nome,",\n                        ").concat(n.entidade.enderecos[1].endereco.cidade.estado.nome,",\n                        N\xba ").concat(n.entidade.enderecos[1].endereco.numero,"\n    \n                    "))):d(null),B("\n                    ".concat(n.entidade.enderecos[0].endereco.rua,",\n                    ").concat(n.entidade.enderecos[0].endereco.bairro,",\n                    ").concat(n.entidade.enderecos[0].endereco.cidade.nome,",\n                    ").concat(n.entidade.enderecos[0].endereco.cidade.estado.nome,",\n                    N\xba ").concat(n.entidade.enderecos[0].endereco.numero,"\n                ")),L(n.entidade.razao_social),J(n.entidade.email),X(n.entidade.documento)):ye(null);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Un(e){var t=new Date(e),n=t.getDate().toString(),a=1==n.length?"0"+n:n,r=(t.getMonth()+1).toString();return a+"/"+(1==r.length?"0"+r:r)+"/"+t.getFullYear()}var Yn=c.useState(""),Hn=(0,r.Z)(Yn,2),Qn=(Hn[0],Hn[1]);c.useEffect((function(){C.Z.get("produtos/".concat(En)).then((function(e){Qn("https://nestrental.com.br:80".concat(e.data[0].prod_image))}))}),[En]);var Kn=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(t){var n,r,i,s,l;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Re(""),He(!0),n=(0,j.$E)({document:{path:"/modelos/contrato.docx",template:{data:{fantasy_name:A,address_pay:W.replace(/\s+/gm," "),address_billing:E.replace(/\s+/gm," "),contact:F,business_email:F,total_days:Dn,initial_date:Un(Bn),final_date:Un(qn),cnpj:K,billing:o.toLocaleString("pt-br",{style:"currency",currency:"BRL"}),total:(zn+o).toLocaleString("pt-br",{style:"currency",currency:"BRL"}),machine_name:Nn,code_contract:Math.floor(650*Math.random()),price_product:zn.toLocaleString("pt-br",{style:"currency",currency:"BRL"}),phone_number:a.value}}}}),r=n.url,i=n.options,e.next=6,Cn(r,i);case 6:if(s=e.sent,!(l=s.key)){e.next=20;break}return Te(l),window.localStorage.setItem("key_document",l),Oe("Or\xe7amento criado com sucesso."),e.next=14,aa(l);case 14:return e.next=16,ea();case 16:return e.next=18,ya(Jn.id);case 18:e.next=21;break;case 20:Re("Erro no servidor, tente novamente mais tarde.");case 21:He(!1);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xn=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(t){var n,r,i,s,l;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),Re(""),n=(0,j.$E)({document:{path:"/modelos/contrato.docx",template:{data:{fantasy_name:at,address_pay:"".concat(St,", ").concat(Lt,", ").concat(Bt,", ").concat(It,", ").concat(Dt),address_billing:"".concat(Qt,", ").concat(mn,", ").concat(sn,", ").concat(dn,", ").concat(tn),contact:ut,business_email:ut,total_days:Dn,initial_date:Un(Bn),final_date:Un(qn),cnpj:K,billing:o.toLocaleString("pt-br",{style:"currency",currency:"BRL"}),total:(zn+o).toLocaleString("pt-br",{style:"currency",currency:"BRL"}),machine_name:Nn,code_contract:Math.floor(650*Math.random()),price_product:zn.toLocaleString("pt-br",{style:"currency",currency:"BRL"}),phone_number:a.value}}}}),r=n.url,i=n.options,e.next=5,Cn(r,i);case 5:if(s=e.sent,!(l=s.key)){e.next=23;break}return Te(l),window.localStorage.setItem("key_document",l),e.next=12,aa(l);case 12:return e.next=14,xa();case 14:return e.next=16,ea();case 16:return e.next=18,ji();case 18:!0===e.sent&&Oe("Or\xe7amento criado com sucesso."),window.location.reload(),e.next=24;break;case 23:Re("Erro no cria\xe7\xe3o do orc\xe7amento, verifique os dados e tente novamente.");case 24:He(!1);case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ea=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(){var t,n,r,i,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=(0,j.um)({signer:{email:ut||fe.entidade.email,phone_number:a.value,auths:["email"],name:at||fe.entidade.nome_fantasia,has_documentation:!1,selfie_enabled:!1,handwritten_enabled:!1,official_document_enabled:!1,liveness_enabled:!1,facial_biometrics_enabled:!1}}),n=t.url,r=t.options,e.next=3,Cn(n,r);case 3:return i=e.sent,s=i.key,Pe(s),e.next=8,ta(s);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ta=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(t){var n,a,r,i;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("https://nestrental.com.br:80/api/clicksign/create-document",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({list:{document_key:window.localStorage.getItem("key_document"),signer_key:t,sign_as:"sign",refusable:!0,message:"Prezado ".concat(at||fe.entidade.nome_fantasia,",\n                    \nPor favor assine o documento.\n\nQualquer d\xfavida estou \xe0 disposi\xe7\xe3o.\n\nAtenciosamente,\nNest Rental.")}})}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.json();case 6:return r=e.sent,e.next=9,null===r||void 0===r?void 0:r.key_document_signer;case 9:return i=e.sent,qe(i),e.next=13,na(i);case 13:window.localStorage.setItem("key_document","");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),na=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(t){var n,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=fetch("https://nestrental.com.br:80/api/clicksign/send-notification",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({request_signature_key:t,message:"Prezado ".concat(at||fe.entidade.nome_fantasia,",\n                    \nPor favor assine o documento.\n\nQualquer d\xfavida estou \xe0 disposi\xe7\xe3o.\n\nAtenciosamente,\nNest Rental."),url:""})}),e.next=3,n;case 3:return a=e.sent,e.next=6,a.json();case 6:e.sent;case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function aa(e){return ra.apply(this,arguments)}function ra(){return(ra=(0,p.Z)((0,u.Z)().mark((function e(t){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=null,"checkbox1"===fi?n=3:"checkbox2"===fi?n=13:"checkbox3"===fi&&(n=14),fetch("https://nestrental.com.br:80/api/orcamentos",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id_tokencontrato:t,data_inicio:Bn,data_devolucao:qn,empresa:at||A,valor:o+zn,id_opcao_pagamento:n})});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ia(e){return sa.apply(this,arguments)}function sa(){return sa=(0,p.Z)((0,u.Z)().mark((function e(t){var n,a,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=encodeURI(t),e.next=3,g.hi.get("/cidades/".concat(n));case 3:return a=e.sent,r=a.data,e.abrupt("return",null===r||void 0===r?void 0:r.id);case 6:case"end":return e.stop()}}),e)}))),sa.apply(this,arguments)}function la(){return(la=(0,p.Z)((0,u.Z)().mark((function e(t){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Z)(t);case 2:n=e.sent,Ct(n.logradouro),qt(n.localidade),Rt(n.uf),Ot(n.bairro);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function oa(){return(oa=(0,p.Z)((0,u.Z)().mark((function e(t){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Z)(t);case 2:n=e.sent,Kt(n.logradouro),xn(n.bairro),ln(n.localidade),un(n.uf);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ca=c.useState(null),da=(0,r.Z)(ca,2),ua=(da[0],da[1]),pa=c.useState(""),ha=(0,r.Z)(pa,2),ma=ha[0];ha[1];function xa(){return fa.apply(this,arguments)}function fa(){return fa=(0,p.Z)((0,u.Z)().mark((function e(){var t,n,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.hi.post("/usuarios",{nome:at,documento:K,tipo:"J",razao_social:Xe,email:ut,nome_fantasia:at,inscricao_estadual:lt,login:ut,password:"",id_perfil:2});case 2:return t=e.sent,e.next=5,t.data.entidade.id;case 5:return n=e.sent,ua(n),e.next=9,ya(n);case 9:return e.next=11,Za(n);case 11:return e.next=13,wa(n);case 13:return e.next=15,va();case 15:return a=e.sent,e.next=18,ba(a,n);case 18:return e.next=20,Ca();case 20:case"end":return e.stop()}}),e)}))),fa.apply(this,arguments)}function ya(e){return ga.apply(this,arguments)}function ga(){return ga=(0,p.Z)((0,u.Z)().mark((function e(t){var n,a,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zn+o,e.next=3,g.hi.post("/pedidos",{descricao:"yes",data_inicio:Bn,data_entrega:qn,vr_total:n,id_endereco:"",id_cupom_desconto:null,id_cliente:t,id_usuario:t,id_tokencontrato:window.localStorage.getItem("key_document"),id_orcamento:"",status:"aberto",itens:[{id_produto:En,valor:n,vr_desconto:0,quantidade:1}]});case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ga.apply(this,arguments)}var va=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(){var t,n,a,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Re(""),t=fetch("https://nestrental.com.br:80/api/zoho/create-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:[{Owner:{name:"Tatiana Tavora Dias",id:"702098344",email:"tdias@nestrental.com.br"},Inscri_o_Estadual:lt,CNPJ:z.s3.format(K),Raz_o_Social:Xe,Phone:"",Origem_prospect:"E-commerce",$currency_symbol:"BRL",Account_Type:"Lead",Industry:"Instaladoras",Account_Site:"https://nest-rental-frontend.herokuapp.com",$process_flow:!1,Exchange_Rate:3,Currency:"BRL",Billing_Country:"Brasil",$approval:{delegate:!1,approve:!1,reject:!1,resubmit:!1},Billing_Street:St,$editable:!0,Billing_Code:Ut,Shipping_City:sn,Shipping_Country:"Brasil",Shipping_Code:jn,Billing_City:Bt,Created_By:{name:"Tatiana Tavora Dias",id:"702098344",email:"tdias@nestrental.com.br"},Shipping_Street:Qt,Ownership:"Private",Rating:"Active",Shipping_State:"SP",$review_process:{approve:!1,reject:!1,resubmit:!1},Website:"https://nest-rental-frontend.herokuapp.com",Account_Name:at,$in_merge:!1,Contact_Details:[{Email:ut}],Billing_State:It,Tag:[]}]})}),e.next=4,t;case 4:return n=e.sent,e.next=7,n.json();case 7:if("SUCCESS"!==(a=e.sent).message[0].code){e.next=15;break}return e.next=11,a.message[0].details.id;case 11:return r=e.sent,e.abrupt("return",r);case 15:"DUPLICATE_DATA"===a.message.data[0].code&&"CNPJ"===a.message.data[0].details.api_name&&Re("Este CNPJ j\xe1 est\xe1 associado a uma conta! Por favor, fa\xe7a login.");case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ba(e,t){return ja.apply(this,arguments)}function ja(){return(ja=(0,p.Z)((0,u.Z)().mark((function e(t,n){var a,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=fetch("https://nestrental.com.br:80/api/usuarios/".concat(n),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({id_zoho:t,nome:"???",tipo:"J",razao_social:Xe,email:ut,nome_fantasia:at,inscricao_estadual:lt,login:ut,password:"",id_perfil:2})}),e.next=3,a;case 3:return r=e.sent,e.next=6,r.json();case 6:e.sent;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Za(e){return _a.apply(this,arguments)}function _a(){return _a=(0,p.Z)((0,u.Z)().mark((function e(t){var n,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=g.hi,e.t1="/enderecos/".concat(t),e.next=4,ia(Bt);case 4:return e.t2=e.sent,e.t3=xt,e.t4=Lt,e.t5=Jt||"N\xe3o possui",e.t6=St,e.t7=Dt,e.t8=ut,e.t9={id_cidade:e.t2,cep:e.t3,bairro:e.t4,complemento:e.t5,rua:e.t6,numero:e.t7,contato:"",telefone:"",email:e.t8,nome_obra:"",tipo:"C"},e.next=14,e.t0.post.call(e.t0,e.t1,e.t9);case 14:return n=e.sent,a=n.data,e.abrupt("return",a);case 17:case"end":return e.stop()}}),e)}))),_a.apply(this,arguments)}function wa(e){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,p.Z)((0,u.Z)().mark((function e(t){var n,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=g.hi,e.t1="/enderecos/".concat(t),e.next=4,ia(sn);case 4:return e.t2=e.sent,e.t3=vt,e.t4=mn,e.t5=gn||"N\xe3o possui",e.t6=Qt,e.t7=tn,e.t8=be,e.t9=a.value,e.t10=ut,e.t11=be,e.t12={id_cidade:e.t2,cep:e.t3,bairro:e.t4,complemento:e.t5,rua:e.t6,numero:e.t7,contato:e.t8,telefone:e.t9,email:e.t10,nome_obra:e.t11,tipo:"E"},e.next=17,e.t0.post.call(e.t0,e.t1,e.t12);case 17:return n=e.sent,r=n.data,e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Sa.apply(this,arguments)}var Ca=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(){var t,n,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=fetch("https://nestrental.com.br:80/api/usuarios/recovery",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:ut,url:"https://nestrental.com.br/redefinir-senha"})}),e.next=3,t;case 3:if(200!=(n=e.sent).status){e.next=9;break}return e.next=7,n.json();case 7:a=e.sent,window.localStorage.setItem("token_password",a.token);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ka=c.useState(!1),Ta=(0,r.Z)(ka,2),Da=Ta[0],za=Ta[1],Pa=c.useState(""),Wa=(0,r.Z)(Pa,2),Ba=Wa[0],qa=Wa[1],Na=c.useState(""),Ea=(0,r.Z)(Na,2),Ia=Ea[0],Ra=Ea[1],Ga=c.useState(""),Aa=(0,r.Z)(Ga,2),La=Aa[0],Oa=Aa[1],Ma=c.useState(""),Fa=(0,r.Z)(Ma,2),Ja=Fa[0],$a=Fa[1],Va=c.useState(""),Ua=(0,r.Z)(Va,2),Ya=Ua[0],Ha=Ua[1],Qa=c.useState(""),Ka=(0,r.Z)(Qa,2),Xa=Ka[0],er=Ka[1],tr=c.useState(""),nr=(0,r.Z)(tr,2),ar=nr[0],rr=nr[1],ir=c.useState(""),sr=(0,r.Z)(ir,2),lr=sr[0],or=sr[1],cr=c.useState(""),dr=(0,r.Z)(cr,2),ur=dr[0],pr=dr[1],hr=c.useState(""),mr=(0,r.Z)(hr,2),xr=mr[0],fr=mr[1],yr=c.useState(""),gr=(0,r.Z)(yr,2),vr=gr[0],br=gr[1],jr=c.useState(""),Zr=(0,r.Z)(jr,2),_r=Zr[0],wr=Zr[1],Sr=c.useState(""),Cr=(0,r.Z)(Sr,2),kr=Cr[0],Tr=Cr[1],Dr=c.useState(""),zr=(0,r.Z)(Dr,2),Pr=zr[0],Wr=zr[1],Br=c.useState(""),qr=(0,r.Z)(Br,2),Nr=qr[0],Er=qr[1],Ir=c.useState(""),Rr=(0,r.Z)(Ir,2),Gr=Rr[0],Ar=Rr[1],Lr=c.useState(""),Or=(0,r.Z)(Lr,2),Mr=Or[0],Fr=Or[1],Jr=c.useState(""),$r=(0,r.Z)(Jr,2),Vr=$r[0],Ur=$r[1],Yr=c.useState(!1),Hr=(0,r.Z)(Yr,2),Qr=(Hr[0],Hr[1]),Kr=c.useState(""),Xr=(0,r.Z)(Kr,2),ei=Xr[0],ti=Xr[1],ni=c.useState(""),ai=(0,r.Z)(ni,2),ri=(ai[0],ai[1]),ii=c.useState(""),si=(0,r.Z)(ii,2),li=si[0],oi=si[1],ci=c.useState(""),di=(0,r.Z)(ci,2),ui=(di[0],di[1]);function pi(){return hi.apply(this,arguments)}function hi(){return(hi=(0,p.Z)((0,u.Z)().mark((function e(){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!=En){e.next=2;break}return e.abrupt("return",8);case 2:if(2!==En){e.next=4;break}return e.abrupt("return",7);case 4:if(4!==En){e.next=6;break}return e.abrupt("return",8);case 6:34===En&&8,14===En&&8,24===En&&8,166===En&&8,0===En&&167,0===En&&168,0===En&&169;case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var mi=(0,c.useState)(null),xi=(0,r.Z)(mi,2),fi=xi[0],yi=xi[1],gi=function(e){yi(e)},vi=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(t){var n,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=fetch,e.t1={"Content-Type":"application/json"},e.t2=JSON,e.next=5,pi();case 5:return e.t3=e.sent,e.t4=t,e.t5={curso_id:e.t3,usuario_id:e.t4},e.t6=e.t2.stringify.call(e.t2,e.t5),e.t7={method:"POST",headers:e.t1,body:e.t6},n=(0,e.t0)("https://nestrental.com.br:80/api/ead/student/enrollment",e.t7),e.next=13,n;case 13:return a=e.sent,e.next=16,a.json();case 16:return e.sent,e.abrupt("return",!0);case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),bi=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(t,n,a,r){var i,s,l;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Qr(!0),i=fetch("https://nestrental.com.br:80/api/ead/student",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,nome:t,senha:a,telefone:r,tipo:1,status:1})}),e.next=4,i;case 4:return s=e.sent,e.next=7,s.json();case 7:if(200!=(l=e.sent).http_status){e.next=19;break}return e.next=11,vi(l.data.aluno_id);case 11:if(!e.sent){e.next=16;break}return e.abrupt("return",!0);case 16:return e.abrupt("return",!1);case 17:e.next=21;break;case 19:if(409!=l.http_status){e.next=21;break}return e.abrupt("return",!1);case 21:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),ji=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(){var t,n,a,r;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!1!==Da){e.next=17;break}return e.next=3,bi(Ba,Ia,Ya,La);case 3:return t=e.sent,e.next=6,bi(Xa,ar,xr,lr);case 6:if(n=e.sent,!t||!n){e.next=13;break}return ti(""),oi("Alunos matriculados com sucesso, por favor, verifique sua caixa de E-mail!"),e.abrupt("return",!0);case 13:ti("Erro na matr\xedcula dos alunos, por favor, verifique os dados e tente novamente!"),oi("");case 15:e.next=32;break;case 17:if(!0!==Da){e.next=32;break}return e.next=20,Zi(vr,Pr,_r,kr);case 20:return a=e.sent,e.next=23,Zi(Nr,Vr,Gr,Mr);case 23:if(r=e.sent,!a||!r){e.next=30;break}return ri(""),ui("Dispensa realizada com sucesso."),e.abrupt("return",!0);case 30:ri("Erro na dispensa do treinamento, por favor, verifique os dados e tente novamente!"),ui("");case 32:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Zi=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(t,n,a,r){var i,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=fetch("https://nestrental.com.br:80/api/treinamentos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nome:t,email:a,cpf:n,telefone:r,id_termo:2})}),e.next=3,i;case 3:if(202!==(s=e.sent).status){e.next=8;break}return e.abrupt("return",!0);case 8:if(404!==s.status&&400!==s.status){e.next=10;break}return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}();return c.useEffect((function(){var e;e=(e=Je).replace(/[^\d]/g,""),$e(e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"))}),[Je]),c.useEffect((function(){!function(){Gn.apply(this,arguments)}(),function(){On.apply(this,arguments)}(),Da&&(qa(""),Ra(""),Oa(""),Ha(""),er(""),rr(""),or(""),fr(""))}),[]),c.useEffect((function(){!function(){Vn.apply(this,arguments)}()}),[Jn]),c.useEffect((function(){!function(e){la.apply(this,arguments)}(xt)}),[xt]),c.useEffect((function(){In(vt),function(e){oa.apply(this,arguments)}(vt)}),[vt]),(0,P.jsx)(P.Fragment,{children:t&&(0,P.jsx)("div",{className:h.Z.modal,children:(0,P.jsxs)("div",{className:h.Z.modal__divCloseButton,children:[(0,P.jsx)("button",{className:h.Z.modal__divCloseButton__closeButton,onClick:function(e){return n(!t)},children:(0,P.jsx)(m.LHV,{})}),(0,P.jsxs)("form",{className:h.Z.formCheckout,style:{textAlign:"left"},onSubmit:we?Xn:Kn,children:[(0,P.jsx)("div",{style:{width:"50%"},children:(0,P.jsx)(x.D,{level:2,children:"Gere um novo or\xe7amento"})}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gridGap:"1rem"},children:[(0,P.jsxs)("div",{style:{width:"100%"},children:[(0,P.jsx)("label",{htmlFor:"start",style:{display:"block",paddingTop:".7rem"},children:"Selecione o produto"}),ne&&(0,P.jsxs)("select",{onChange:function(e){return function(e){Tn(e.target.value)}(e)},style:{width:"100%",height:"40px",borderRadius:"11px",borderColor:"#9099A9",color:"#9099A9"},children:[(0,P.jsx)("option",{value:"Selecione: ",selected:!0,disabled:!0,children:"Selecione: "}),ne.map((function(e,t){return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)("option",{value:e.id,style:{textTransform:"uppercase",padding:"1rem"},children:e.nome},e.id)})}))]})]}),(0,P.jsxs)("div",{style:{width:"100%"},children:[(0,P.jsx)("label",{htmlFor:"start",style:{display:"block",paddingTop:"1rem"},children:"Selecione o cliente"}),de&&(0,P.jsx)(k.ZP,{options:de,isSearchable:!0,noOptionsMessage:function(){return"Nenhum encontrado"},required:!0,onChange:function(e){return $n(e)},isMulti:!1,placeholder:"Selecione:"})]})]}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsxs)("div",{style:{width:"100%"},children:[(0,P.jsx)("label",{htmlFor:"start",style:{display:"block"},children:"In\xedcio"}),(0,P.jsx)("input",{type:"date",name:"start",onChange:function(e){return Pn(e.target.value)},required:!0,style:{width:"100%",padding:".6rem",borderRadius:"10px",borderColor:"#9099A9",border:"1px solid #9099A9"}})]}),(0,P.jsxs)("div",{style:{width:"100%"},children:[(0,P.jsx)("label",{htmlFor:"start",style:{display:"block"},children:"Devolu\xe7\xe3o"}),(0,P.jsx)("input",{type:"date",name:"end",onChange:function(e){var t=new Date(e.target.value).getUTCDay();[6,0].includes(t)?(e.preventDefault(),Wn(""),e.target.value="",alert("Selecione apenas dia de semana.")):Wn(e.target.value)},required:!0,style:{width:"100%",padding:".6rem",borderRadius:"10px",borderColor:"#9099A9",border:"1px solid #9099A9"}})]})]}),(0,P.jsxs)("div",{className:h.Z.formCheckout__div,children:[(0,P.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gridGap:"1rem",marginTop:"1.8rem"},children:(0,P.jsx)(x.D,{level:3,children:"Dados do cliente"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",id:"razao_social",label:"Raz\xe3o Social",name:"razao_social",placeholder:"Digite sua raz\xe3o social",value:fe&&fe.entidade.razao_social?fe.entidade.razao_social:Xe,onChange:function(e){return et(e.target.value)},required:!0,fullWidth:!0,size:"small"})}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",id:"fantasy_name",label:"Nome Fantasia",name:"fantasy_name",placeholder:"Digite seu nome fantasia",value:fe?fe.entidade.nome_fantasia:at,onChange:function(e){return rt(e.target.value)},required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:we?(0,P.jsx)(S.Z,{type:"text",label:"CNPJ",name:"cnpj",id:"cnpj",placeholder:"xx.xxx.xxx/xxxx-xx",required:!0,value:K,onChange:function(e){return X(e.target.value)},size:"small",fullWidth:!0}):(0,P.jsx)(S.Z,{type:"text",label:"CNPJ",id:"cnpj_client",name:"cnpj_client",placeholder:"xx.xxx.xxx/xxxx-xx",value:fe?fe.entidade.documento:i.value,required:!0,fullWidth:!0,size:"small"})})]}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Inscri\xe7\xe3o Estadual",id:"insc_estadual",name:"insc_estadual",placeholder:"xx.xxx.xxx-x",value:fe?fe.entidade.inscricao_estadual:lt,onChange:function(e){return ot(e.target.value)},required:!0,fullWidth:!0,size:"small"})}),(0,P.jsxs)("div",{style:{width:"100%"},children:[(0,P.jsx)(S.Z,{type:"text",label:"Email",id:"email_client",name:"email_client",placeholder:"emailexample@com.br",defaultValue:fe?fe.entidade.email:ut,onChange:function(e){return pt(e.target.value)},required:!0,fullWidth:!0,size:"small"}),(0,P.jsx)("p",{style:{fontSize:".875rem",color:"red"},children:ma})]})]}),(0,P.jsxs)("section",{style:{marginTop:"1rem"},children:[!Da&&(0,P.jsxs)("div",{children:[(0,P.jsx)(x.D,{children:"Treinamento"}),(0,P.jsxs)("div",{className:h.Z.warningTraining__form__aluno1,children:[(0,P.jsx)("label",{style:{display:"block",fontWeight:"bold"},children:" Aluno 1\xb0"}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Nome",id:"nome_aluno",name:"nome_client",placeholder:"Digite o nome do aluno",value:Ba,onChange:function(e){return qa(e.target.value)},required:!Da,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Email",id:"email_aluno",name:"email_client",placeholder:"Digite o E-mail do aluno",value:Ia,onChange:function(e){return Ra(e.target.value)},required:!Da,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"CPF",id:"cpf_aluno1",name:"cpf_aluno1",placeholder:"000.000.000-00",value:Ja,onChange:function(e){return $a(e.target.value)},required:!Da,fullWidth:!0,size:"small"})})]}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Telefone",id:"tel_aluno",name:"tel_client",placeholder:"(00) 000000000",value:La,onChange:function(e){return Oa(e.target.value)},required:!Da,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"password",label:"Senha",id:"senha_aluno",name:"senha_client",placeholder:"Digite a senha do aluno",value:Ya,onChange:function(e){return Ha(e.target.value)},required:!Da,fullWidth:!0,size:"small"})})]})]}),(0,P.jsxs)("div",{className:h.Z.warningTraining__form__aluno2,children:[(0,P.jsx)("label",{style:{display:"block",marginTop:"1.5rem",fontWeight:"bold"},children:" Aluno 2\xb0"}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Nome",id:"nome_aluno2",name:"nome_aluno2",placeholder:"Digite o nome do aluno",value:Xa,onChange:function(e){return er(e.target.value)},required:!Da,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Email",id:"email_aluno2",name:"email_aluno2",placeholder:"Digite o E-mail do aluno",value:ar,onChange:function(e){return rr(e.target.value)},required:!Da,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"CPF",id:"cpf_aluno2",name:"cpf_aluno2",placeholder:"000.000.000-00",value:ur,onChange:function(e){return pr(e.target.value)},required:!Da,fullWidth:!0,size:"small"})})]}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Telefone",id:"tel_aluno2",name:"tel_aluno2",placeholder:"(00) 000000000",value:lr,onChange:function(e){return or(e.target.value)},required:!Da,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"password",label:"Senha",id:"senha_aluno2",name:"senha_aluno2",placeholder:"Digite a senha do aluno",value:xr,onChange:function(e){return fr(e.target.value)},required:!Da,fullWidth:!0,size:"small"})})]})]})]}),(0,P.jsx)("div",{children:ei?(0,P.jsx)("p",{style:{color:"red"},children:ei}):(0,P.jsx)("p",{style:{color:"green"},children:li})}),(0,P.jsxs)("div",{className:h.Z.warningTraining__notTraining,children:[(0,P.jsx)("input",{type:"checkbox",onChange:function(e){return za(!Da)}}),(0,P.jsx)("label",{children:" J\xe1 tenho treinamento "})]}),Da&&(0,P.jsxs)("div",{style:{marginTop:"1rem"},children:[(0,P.jsx)(x.D,{children:"Dispensa de Treinamento"}),(0,P.jsxs)("div",{children:[(0,P.jsxs)("div",{className:h.Z.warningTraining__form__aluno1,children:[(0,P.jsx)("label",{style:{display:"block",fontWeight:"bold"},children:" Aluno 1\xb0"}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Nome",id:"nome_aluno_dispensa1",name:"nome_aluno_dispensa1",placeholder:"Digite o nome do aluno",value:vr,onChange:function(e){return br(e.target.value)},required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Email",id:"email_aluno_dispensa",name:"email_aluno_dispensa",placeholder:"Digite o E-mail do aluno",value:_r,onChange:function(e){return wr(e.target.value)},required:!0,fullWidth:!0,size:"small"})})]}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"CPF",id:"cpf_aluno_dispensa",name:"cpf_aluno_dispensa",placeholder:"000.000.000-00",value:Pr,onChange:function(e){return Wr(e.target.value)},required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Telefone",id:"tel_aluno_dispensa",name:"tel_aluno_dispensa",placeholder:"(00) 000000000",value:kr,onChange:function(e){return Tr(e.target.value)},required:!0,fullWidth:!0,size:"small"})})]})]}),(0,P.jsxs)("div",{className:h.Z.warningTraining__form__aluno2,children:[(0,P.jsx)("label",{style:{display:"block",marginTop:"1.5rem",fontWeight:"bold"},children:" Aluno 2\xb0"}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Nome",id:"nome_aluno_dispensa2",name:"nome_aluno_dispensa2",placeholder:"Digite o nome do aluno",value:Nr,onChange:function(e){return Er(e.target.value)},required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Email",id:"email_aluno_dispensa2",name:"email_aluno_dispensa2",placeholder:"Digite o E-mail do aluno",value:Gr,onChange:function(e){return Ar(e.target.value)},required:!0,fullWidth:!0,size:"small"})})]}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"CPF",id:"cpf_aluno_dispensa",name:"cpf_aluno_dispensa",placeholder:"000.000.000-00",value:Vr,onChange:function(e){return Ur(e.target.value)},required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Telefone",id:"tel_aluno_dispensa",name:"tel_aluno_dispensa",placeholder:"(00) 000000000",value:Mr,onChange:function(e){return Fr(e.target.value)},required:!0,fullWidth:!0,size:"small"})})]})]}),(0,P.jsx)("div",{})]})]})]})]}),(0,P.jsxs)("div",{className:h.Z.formCheckout__div,style:{marginTop:"1.8rem"},children:[(0,P.jsx)(x.D,{level:3,children:"Detalhes do faturamento"}),(0,P.jsx)("div",{style:{paddingBottom:".875rem"},children:(0,P.jsxs)("div",{style:{display:"flex",flexDirection:"row",gridGap:"1rem"},children:[(0,P.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,P.jsx)("input",{type:"checkbox",id:"a-vista",checked:"checkbox1"===fi,onChange:function(){return gi("checkbox1")}}),(0,P.jsx)("span",{children:"\xc0 vista"})]}),(0,P.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,P.jsx)("input",{type:"checkbox",id:"boleto-15",checked:"checkbox2"===fi,onChange:function(){return gi("checkbox2")}}),(0,P.jsx)("span",{children:"Boleto - 15 dias"})]}),(0,P.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,P.jsx)("input",{type:"checkbox",id:"boleto-28",checked:"checkbox3"===fi,onChange:function(){return gi("checkbox3")}}),(0,P.jsx)("span",{children:"Boleto - 28 dias"})]})]})}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"CEP",id:"cep_c",name:"cep_c",placeholder:"Digite seu CEP",value:fe&&fe.entidade.enderecos[0]?fe.entidade.enderecos[0].endereco.cep:xt,onChange:function(e){return ft(e.target.value)},required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Rua/Av",id:"street",name:"street",placeholder:"Digite sua rua ou avenida",value:fe&&fe.entidade.enderecos[0]?fe.entidade.enderecos[0].endereco.rua:St,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"number",id:"number_c",label:"N\xfamero",placeholder:"Digite o n\xfamero",name:"number_c",value:fe&&fe.entidade.enderecos[0]?fe.entidade.enderecos[0].endereco.numero:Dt,onChange:function(e){return zt(e.target.value)},required:!0,fullWidth:!0,size:"small"})})]}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{label:"Cidade",type:"text",id:"country",placeholder:"Digite sua cidade",name:"country",value:fe&&fe.entidade.enderecos[0]?fe.entidade.enderecos[0].endereco.cidade.nome:Bt,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{label:"Estado",type:"text",id:"",placeholder:"Digite seu estado",name:"",value:fe&&fe.entidade.enderecos[0]?fe.entidade.enderecos[0].endereco.cidade.estado.nome:It,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Bairro",id:"bairro",placeholder:"Digite seu bairro",name:"bairro",value:fe&&fe.entidade.enderecos[0]?fe.entidade.enderecos[0].endereco.bairro:Lt,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{label:"Complemento",type:"text",id:"",name:"",placeholder:"Digite um complemento",fullWidth:!0,size:"small"})})]})]}),(0,P.jsxs)("div",{className:h.Z.formCheckout__div,style:{marginTop:"1.8rem"},children:[(0,P.jsx)(x.D,{level:3,children:"Detalhes de entrega"}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"CEP",id:"cep_e",name:"cep_e",placeholder:"Digite seu CEP",value:vt,onChange:function(e){return bt(e.target.value)},required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Rua/Av",placeholder:"Digite sua rua ou avenida",id:"street",name:"street",value:Qt,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"number",label:"N\xfamero",id:"number_e",name:"number_e",placeholder:"Digite o n\xfamero",value:tn,onChange:function(e){return nn(e.target.value)},required:!0,fullWidth:!0,size:"small"})})]}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",id:"city_e",label:"Cidade",placeholder:"Digite sua cidade",name:"city_e",value:sn,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{label:"Estado",type:"text",id:"",name:"",placeholder:"Digite seu estado",value:dn,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{label:"Bairro",type:"text",id:"bairro",name:"bairro",placeholder:"Digite seu bairro",value:mn,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{label:"Complemento",type:"text",id:"",placeholder:"Digite um complemento",name:"",fullWidth:!0,size:"small"})})]}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",alignItems:"center",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{label:"Nome(respons\xe1vel por receber)",type:"text",id:"",name:"",placeholder:"Digite o nome do respons\xe1vel",onChange:function(e){return je(e.target.value)},value:be,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{label:"Telefone",type:"text",name:"tel_company",id:"tel_company",placeholder:"(00) 000000000",required:!0,fullWidth:!0,size:"small",onChange:function(e){return a.setValue(e.target.value)}})})]})]}),wn?(0,P.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 6fr",alignItems:"center",paddingTop:"2rem",width:"max-content"},children:[(0,P.jsx)(y.ili,{style:{width:"40px",height:"40px"}}),(0,P.jsxs)("p",{style:{borderBottom:"1px solid #ccc",display:"flex",alignItems:"center"},children:[wn,(0,P.jsx)("label",{children:(0,P.jsx)(b.oFd,{color:"green",style:{width:"30px",height:"30px"}})})]})]}):(0,P.jsx)(P.Fragment,{}),se?(0,P.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 6fr",alignItems:"center",paddingTop:"2rem",width:"max-content"},children:[(0,P.jsx)(y.ili,{style:{width:"40px",height:"40px"}}),(0,P.jsxs)("p",{style:{borderBottom:"1px solid #ccc",display:"flex",alignItems:"center"},children:[se,(0,P.jsx)("label",{children:(0,P.jsx)(y.wr$,{color:"red",style:{width:"20px",height:"20px"}})})]})]}):(0,P.jsx)(P.Fragment,{}),(0,P.jsx)("div",{style:{display:"flex",gridGap:"4px",alignItems:"center",marginTop:"1rem"},children:(0,P.jsxs)("p",{children:[(0,P.jsx)("b",{children:"Dias:"})," ",Dn?"".concat(Dn,Dn>1?" dias":" dia"):0]})}),(0,P.jsx)("div",{style:{display:"flex",gridGap:"4px",alignItems:"center",marginTop:"-1rem"},children:(0,P.jsxs)("p",{children:[(0,P.jsx)("b",{children:"Frete:"})," ",o?o.toLocaleString("pt-br",{style:"currency",currency:"BRL"}):0]})}),(0,P.jsx)("div",{style:{display:"flex",gridGap:"4px",alignItems:"center",marginTop:"-1rem"},children:(0,P.jsxs)("p",{children:[(0,P.jsx)("b",{children:"Aluguel:"})," ",zn?zn.toLocaleString("pt-br",{style:"currency",currency:"BRL"}):0]})}),(0,P.jsx)("div",{style:{display:"flex",gridGap:"4px",alignItems:"center",marginTop:"-1rem"},children:(0,P.jsxs)("p",{children:[(0,P.jsx)("b",{children:"Total:"})," ",(o+zn).toLocaleString("pt-br",{style:"currency",currency:"BRL"})]})}),(0,P.jsxs)("div",{style:{display:"flex",gridGap:"1rem",width:"100%",alignItems:"center"},children:[(0,P.jsx)(w.Z,{type:"submit",loading:!!Ye,color:"primary",variant:"contained",size:"medium",children:"Gerar Or\xe7amento"}),(0,P.jsx)(w.Z,{type:"submit",color:"warning",variant:"contained",size:"medium",onClick:function(e){return n(!t)},children:"Cancelar"}),Ie&&(0,P.jsx)("div",{style:{width:"405px"},children:(0,P.jsx)("p",{style:{color:"red",width:"100%"},children:Ie})}),Le&&(0,P.jsx)("div",{style:{width:"405px"},children:(0,P.jsx)("p",{style:{color:"green",width:"100%"},children:Le})})]})]})]})})})},B=n.p+"static/media/logo-nest.d6102b5bcf484ac3eb06.jpg",q=function(e){var t=e.openModal2,n=e.setModal2,a=(e.data,e.edit,(0,f.c)("telefone")),i=(0,f.c)("cnpj"),s=c.useState(null),l=(0,r.Z)(s,2),o=l[0],d=l[1],j=c.useState(""),T=(0,r.Z)(j,2),W=(T[0],T[1]),q=c.useState(""),N=(0,r.Z)(q,2),E=(N[0],N[1]),I=c.useState(""),R=(0,r.Z)(I,2),G=(R[0],R[1]),A=c.useState(""),L=(0,r.Z)(A,2),O=(L[0],L[1]),M=c.useState(""),F=(0,r.Z)(M,2),J=(F[0],F[1],c.useState("")),$=(0,r.Z)(J,2),V=($[0],$[1],c.useState("")),U=(0,r.Z)(V,2),Y=U[0],H=U[1],Q=((0,f.c)("cnpj"),(0,c.useState)([])),K=(0,r.Z)(Q,2),X=K[0],ee=K[1],te=c.useState(""),ne=(0,r.Z)(te,2),ae=ne[0],re=ne[1],ie=(0,c.useState)([]),se=(0,r.Z)(ie,2),le=se[0],oe=se[1],ce=(0,c.useState)(null),de=(0,r.Z)(ce,2),ue=(de[0],de[1],(0,c.useState)(null)),pe=(0,r.Z)(ue,2),he=pe[0],me=pe[1],xe=c.useState(""),fe=(0,r.Z)(xe,2),ye=fe[0],ge=fe[1],ve=c.useState(!1),be=(0,r.Z)(ve,2),je=be[0],Ze=be[1],_e=c.useState(""),we=(0,r.Z)(_e,2),Se=(we[0],we[1],c.useState("")),Ce=(0,r.Z)(Se,2),ke=(Ce[0],Ce[1],c.useState("")),Te=(0,r.Z)(ke,2),De=(Te[0],Te[1],c.useState("")),ze=(0,r.Z)(De,2),Pe=ze[0],We=ze[1],Be=c.useState(""),qe=(0,r.Z)(Be,2),Ne=qe[0],Ee=qe[1],Ie=c.useState(""),Re=(0,r.Z)(Ie,2),Ge=Re[0],Ae=Re[1],Le=c.useState(!1),Oe=(0,r.Z)(Le,2),Me=Oe[0],Fe=Oe[1],Je=c.useState(""),$e=(0,r.Z)(Je,2),Ve=$e[0],Ue=$e[1],Ye=c.useState(""),He=(0,r.Z)(Ye,2),Qe=He[0],Ke=He[1],Xe=c.useState(""),et=(0,r.Z)(Xe,2),tt=et[0],nt=et[1],at=c.useState(""),rt=(0,r.Z)(at,2),it=rt[0],st=rt[1],lt=c.useState(""),ot=(0,r.Z)(lt,2),ct=ot[0],dt=ot[1],ut=c.useState(""),pt=(0,r.Z)(ut,2),ht=pt[0],mt=pt[1],xt=c.useState(""),ft=(0,r.Z)(xt,2),yt=ft[0],gt=ft[1],vt=c.useState(""),bt=(0,r.Z)(vt,2),jt=bt[0],Zt=bt[1],_t=c.useState(""),wt=(0,r.Z)(_t,2),St=(wt[0],wt[1],c.useState("")),Ct=(0,r.Z)(St,2),kt=Ct[0],Tt=Ct[1],Dt=c.useState(""),zt=(0,r.Z)(Dt,2),Pt=zt[0],Wt=zt[1],Bt=c.useState(""),qt=(0,r.Z)(Bt,2),Nt=qt[0],Et=qt[1],It=c.useState(""),Rt=(0,r.Z)(It,2),Gt=Rt[0],At=Rt[1],Lt=c.useState(""),Ot=(0,r.Z)(Lt,2),Mt=Ot[0],Ft=Ot[1],Jt=c.useState(""),$t=(0,r.Z)(Jt,2),Vt=($t[0],$t[1],c.useState("")),Ut=(0,r.Z)(Vt,2),Yt=Ut[0],Ht=(Ut[1],c.useState("")),Qt=(0,r.Z)(Ht,2),Kt=Qt[0],Xt=Qt[1],en=c.useState(""),tn=(0,r.Z)(en,2),nn=tn[0],an=tn[1],rn=c.useState(""),sn=(0,r.Z)(rn,2),ln=sn[0],on=sn[1],cn=c.useState(""),dn=(0,r.Z)(cn,2),un=dn[0],pn=dn[1],hn=c.useState(""),mn=(0,r.Z)(hn,2),xn=mn[0],fn=mn[1],yn=c.useState(""),gn=(0,r.Z)(yn,2),vn=(gn[0],gn[1],c.useState("")),bn=(0,r.Z)(vn,2),jn=bn[0],Zn=(bn[1],c.useState("")),_n=(0,r.Z)(Zn,2),wn=_n[0],Sn=_n[1],Cn=((0,Z.i)().request,c.useContext(_.J)),kn=Cn.setIdProduct,Tn=Cn.totalDays,Dn=(Cn.price,Cn.newPrice),zn=Cn.setStartDate,Pn=Cn.setEndDate,Wn=Cn.startDate,Bn=Cn.endDate,qn=Cn.nameProduct,Nn=Cn.idProduct;function En(e){return In.apply(this,arguments)}function In(){return(In=(0,p.Z)((0,u.Z)().mark((function e(t){var n,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||8!==t.length){e.next=8;break}return e.next=3,(0,v.Z)(t);case 3:n=e.sent,(a=n.cep.split("-",1))>="11000"&&a<="11999"||a>="12000"&&a<="19999"?(Sn(n.logradouro+", "+n.bairro+", "+n.localidade+", "+n.uf),d(1800),re("")):a>="06000"&&a<="09999"?(Sn(n.logradouro+", "+n.bairro+", "+n.localidade+", "+n.uf),d(730),re("")):a>="01000"&&a<="05999"?(Sn(n.logradouro+", "+n.bairro+", "+n.localidade+", "+n.uf),d(320),re("")):(Sn(""),re("\xc1rea fora de cobertura de nossos servi\xe7os, por favor, tente novamente."),d(null)),e.next=11;break;case 8:Sn(""),re(""),d(null);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rn(){return Rn=(0,p.Z)((0,u.Z)().mark((function e(){var t,n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ee(null),e.next=3,g.hi.get("/produtos");case 3:t=e.sent,n=t.data,ee(n||null);case 6:case"end":return e.stop()}}),e)}))),Rn.apply(this,arguments)}var Gn={value:"Criar novo usu\xe1rio",label:"Criar novo usu\xe1rio",id:22},An=[];function Ln(){return Ln=(0,p.Z)((0,u.Z)().mark((function e(){var t,n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.hi.get("/usuarios/type/2");case 2:t=e.sent,(n=t.data)?(n.map((function(e,t){An.push({defaultClient:Gn,value:e.entidade.razao_social,label:e.entidade.razao_social,id:e.id})})),oe([Gn].concat(An))):oe(null);case 5:case"end":return e.stop()}}),e)}))),Ln.apply(this,arguments)}var On=c.useState(null),Mn=(0,r.Z)(On,2),Fn=Mn[0],Jn=Mn[1];function $n(){return($n=(0,p.Z)((0,u.Z)().mark((function e(){var t,n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(22!=Fn.id){e.next=7;break}Ze(!0),me(""),E(""),W(""),e.next=13;break;case 7:return Ze(!1),e.next=10,g.hi.get("/usuarios/".concat(Fn.id));case 10:t=e.sent,(n=t.data)?(me(n),n.entidade.enderecos[1]?(En(n.entidade.enderecos[1].endereco.cep),E("\n                        ".concat(n.entidade.enderecos[1].endereco.rua,",\n                        ").concat(n.entidade.enderecos[1].endereco.bairro,",\n                        ").concat(n.entidade.enderecos[1].endereco.cidade.nome,",\n                        ").concat(n.entidade.enderecos[1].endereco.cidade.estado.nome,",\n                        N\xba ").concat(n.entidade.enderecos[1].endereco.numero,"\n    \n                    "))):d(null),W("\n                    ".concat(n.entidade.enderecos[0].endereco.rua,",\n                    ").concat(n.entidade.enderecos[0].endereco.bairro,",\n                    ").concat(n.entidade.enderecos[0].endereco.cidade.nome,",\n                    ").concat(n.entidade.enderecos[0].endereco.cidade.estado.nome,",\n                    N\xba ").concat(n.entidade.enderecos[0].endereco.numero,"\n                ")),G(n.entidade.razao_social),O(n.entidade.email),H(n.entidade.documento)):me(null);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vn(e){var t=new Date(e),n=t.getDate().toString(),a=1==n.length?"0"+n:n,r=(t.getMonth()+1).toString();return a+"/"+(1==r.length?"0"+r:r)+"/"+t.getFullYear()}var Un=c.useState(""),Yn=(0,r.Z)(Un,2),Hn=(Yn[0],Yn[1]);var Qn=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(t){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new FormData).append("to",Ve),n.append("anexo",t,"Proposta.pdf"),n.append("subject","Envio de email com anexo"),n.append("body","<h2>Proposta - Nest Rental</h2>"),fetch("https://nestrental.com.br:80/api/arquivos/email",{method:"POST",body:n,redirect:"follow"}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kn=function(){var e=(0,p.Z)((0,u.Z)().mark((function e(t){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=new FormData).append("to",he?he.entidade.email:ht),n.append("anexo",t,"Proposta.pdf"),n.append("subject","Envio de email com anexo"),n.append("body","<h2>Proposta - Nest Rental</h2>"),fetch("https://nestrental.com.br:80/api/arquivos/email",{method:"POST",body:n,redirect:"follow"}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.log("error",e)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Xn=(0,c.useState)(null),ea=(0,r.Z)(Xn,2),ta=ea[0],na=ea[1],aa=(0,c.useState)(""),ra=(0,r.Z)(aa,2),ia=ra[0],sa=ra[1],la=function(e){"checkbox1"===e&&sa("\xc0 vista"),"checkbox2"===e&&sa("Boleto - 15 dias"),"checkbox3"===e&&sa("Boleto - 28 dias"),na(e)};function oa(){return ca.apply(this,arguments)}function ca(){return ca=(0,p.Z)((0,u.Z)().mark((function e(){var t;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={margin:1,filename:"proposta.pdf",html2canvas:{scale:2},jsPDF:{unit:"in",format:"letter",orientation:"portrait"}},D()().set(t).from("<div>\n        <img src=".concat(B,' style="margin-top: -.5rem;">\n            <p style="text-align:left; font-weight: bold; font-size: .8rem; text-transform: uppercase;">Proposta - Nest Rental</p>\n            <div style="display:flex; flex-direction: row; justify-content: space-between;">\n                <p><label style="margin-right: .5rem;"><b>Produto:</b> </b></label> ').concat(qn,'</p>\n                <p><label style="margin-right: .5rem;"><b>Cliente: </b></label> ').concat(he?he.entidade.nome:it,'</p>\n            </div>\n            <div style="display:flex; flex-direction: row; justify-content: space-between;">\n                <p><label style="margin-right: .5rem"><b>Data in\xedcio: </b></label> ').concat(Vn(Wn),'</p>\n                <p><label style="margin-right: .5rem"><b>Data final: </b></label> ').concat(Vn(Bn),'</p>\n            </div>\n\n            <div>\n                <h2 style="font-size: 1.2rem; font-weight: bold; margin-top: .7rem;">\n                    Dados do cliente\n                </h2>\n                <hr style="width: 100%; height: 1px; background: #ccc; margin-top: -.4rem;">\n                <div style="display:flex; flex-direction: column; justify-content: space-between;">\n                    <p><label style="margin-right: .5rem"><b>Raz\xe3o Social: </b></label> ').concat(he?he.entidade.razao_social:tt,'</p>\n                    <p><label style="margin-right: .5rem"><b>Nome Fantasia: </b></label> ').concat(he?he.entidade.nome_fantasia:it,'</p>\n                </div>\n                <div style="display:flex; flex-direction: column; justify-content: space-between;">\n                    <p><label style="margin-right: .5rem"><b>CNPJ: </b></label> ').concat(he?he.entidade.documento:Y,'</p>\n                    <p><label style="margin-right: .5rem"><b>Inscri\xe7\xe3o Estadual: </b></label> ').concat(he?he.entidade.inscricao_estadual:ct,'</p>\n                </div>\n                <div style="display:flex; flex-direction: column; justify-content: space-between;">\n                    <p><label style="margin-right: .5rem"><b>E-mail: </b></label> ').concat(he?he.entidade.email:ht,'</p>\n                    <p><label style="margin-right: .5rem"><b>E-mail fatura: </b></label> ').concat(Ve,'</p>\n                    <p><label style="margin-right: .5rem"><b>Nome solicitante: </b></label> ').concat(Qe,'</p>\n                </div>\n            </div>\n\n            <div>\n                <h2 style="font-size: 1.2rem; font-weight: bold; margin-top: .7rem;">\n                    Detalhes do faturamento\n                </h2>\n                <hr style="width: 100%; height: 1px; background: #ccc; margin-top:-.4rem;">\n                <div style="display:flex; flex-direction: column; justify-content: space-between;">\n                    <p><label style="margin-right: .5rem"><b>Endere\xe7o de entrega: </b></label> ').concat(Kt+", "+xn+", "+ln+", "+un+", N\xb0 "+nn,'</p>\n                </div>\n                <div style="display:flex; flex-direction: column; justify-content: space-between;">\n                    <p><label style="margin-right: .5rem"><b>Forma de Pagamento: </b></label> ').concat(ia,' </p>\n                </div>\n                <div style="display:flex; flex-direction: column; justify-content: space-between;">\n                    <p><label style="margin-right: .5rem"><b>Valor entrega: </b></label> ').concat(o.toLocaleString("pt-br",{style:"currency",currency:"BRL"}),'</p>\n                </div>\n                <div style="display:flex; flex-direction: row; justify-content: space-between;">\n                    <p><label style="margin-right: .5rem"><b>Valor produto/dia: </b></label> ').concat(Dn.toLocaleString("pt-br",{style:"currency",currency:"BRL"}),'</p>\n                    <p><label style="margin-right: .5rem"><b>De</b></label>').concat(Vn(Wn)," <label><b>\xe0 </b></label>").concat(Vn(Bn),'</p>\n                </div>\n                <div style="display:flex; flex-direction: column; justify-content: space-between; margin-top: \'-.5rem">\n                    <p><label style="margin-right: .5rem; font-size: 1.2rem"><b>Total: </b></label> ').concat((Dn+o).toLocaleString("pt-br",{style:"currency",currency:"BRL"}),"<p>\n                </div>\n\n\n            </div>\n          \n        </div>\n        ")).save().output("blob").then((function(e){Qn(e),Kn(e)}));case 2:case"end":return e.stop()}}),e)}))),ca.apply(this,arguments)}function da(){return da=(0,p.Z)((0,u.Z)().mark((function e(t){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),Fe(!0),n=null,n="checkbox1"===ta?3:"checkbox2"===ta?13:14,fetch("https://nestrental.com.br:80/api/propostas",{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id_tokencontrato:"0",data_inicio:Wn,data_devolucao:Bn,empresa:it||he.entidade.nome_fantasia,valor:o+Dn,solicitante:Qe,email_fatura:Ve,id_opcao_pagamento:n})}).then(function(){var e=(0,p.Z)((0,u.Z)().mark((function e(t){return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ee(""),We(""),202!=t.status){e.next=12;break}if(!je){e.next=10;break}return e.next=6,fa();case 6:e.sent?(Ee("Proposta criada com sucesso."),oa()):We("Este CNPJ j\xe1 est\xe1 vinculado a uma conta. Tente novamente!"),e.next=12;break;case 10:oa(),Ee("Proposta criada com sucesso.");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("".concat(e," -  Erro na cria\xe7\xe3o da proposta"))})),Fe(!1);case 6:case"end":return e.stop()}}),e)}))),da.apply(this,arguments)}function ua(){return(ua=(0,p.Z)((0,u.Z)().mark((function e(t){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Z)(t);case 2:n=e.sent,Tt(n.logradouro),Et(n.localidade),At(n.uf),Ft(n.bairro);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function pa(){return(pa=(0,p.Z)((0,u.Z)().mark((function e(t){var n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,v.Z)(t);case 2:n=e.sent,Xt(n.logradouro),fn(n.bairro),on(n.localidade),pn(n.uf);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ha=c.useState(""),ma=(0,r.Z)(ha,2),xa=ma[0],fa=(ma[1],function(){var e=(0,p.Z)((0,u.Z)().mark((function e(){var t,n,a;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return We(""),t=fetch("https://nestrental.com.br:80/api/zoho/create-account",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({data:[{Owner:{name:"Tatiana Tavora Dias",id:"702098344",email:"tdias@nestrental.com.br"},Inscri_o_Estadual:ct,CNPJ:z.s3.format(Y),Raz_o_Social:tt,Phone:"",Origem_prospect:"E-commerce",$currency_symbol:"BRL",Account_Type:"Lead",Industry:"Instaladoras",Account_Site:"https://nest-rental-frontend.herokuapp.com",$process_flow:!1,Exchange_Rate:3,Currency:"BRL",Billing_Country:"Brasil",$approval:{delegate:!1,approve:!1,reject:!1,resubmit:!1},Billing_Street:kt,$editable:!0,Billing_Code:Yt,Shipping_City:ln,Shipping_Country:"Brasil",Shipping_Code:jn,Billing_City:Nt,Created_By:{name:"Tatiana Tavora Dias",id:"702098344",email:"tdias@nestrental.com.br"},Shipping_Street:Kt,Ownership:"Private",Rating:"Active",Shipping_State:"SP",$review_process:{approve:!1,reject:!1,resubmit:!1},Website:"https://nestrental.com.br",Account_Name:it,$in_merge:!1,Contact_Details:[{Email:ht}],Billing_State:Gt,Tag:[]}]})}),e.next=4,t;case 4:return n=e.sent,e.next=7,n.json();case 7:if("SUCCESS"!==(a=e.sent).message[0].code){e.next=12;break}return e.abrupt("return",!0);case 12:if("DUPLICATE_DATA"!==a.message[0].code||"CNPJ"!==a.message[0].details.api_name){e.next=14;break}return e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return c.useEffect((function(){C.Z.get("produtos/".concat(Nn)).then((function(e){Hn("https://nestrental.com.br:80".concat(e.data[0].prod_image))}))}),[Nn]),c.useEffect((function(){var e;e=(e=Ge).replace(/[^\d]/g,""),Ae(e.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/,"$1.$2.$3-$4"))}),[Ge]),c.useEffect((function(){!function(){Rn.apply(this,arguments)}(),function(){Ln.apply(this,arguments)}()}),[]),c.useEffect((function(){!function(){$n.apply(this,arguments)}()}),[Fn]),c.useEffect((function(){!function(e){ua.apply(this,arguments)}(yt)}),[yt]),c.useEffect((function(){En(jt),function(e){pa.apply(this,arguments)}(jt)}),[jt]),(0,P.jsx)(P.Fragment,{children:t&&(0,P.jsx)("div",{className:h.Z.modal,children:(0,P.jsxs)("div",{className:h.Z.modal__divCloseButton,children:[(0,P.jsx)("button",{className:h.Z.modal__divCloseButton__closeButton,onClick:function(e){return n(!t)},children:(0,P.jsx)(m.LHV,{})}),(0,P.jsxs)("form",{className:h.Z.formCheckout,style:{textAlign:"left"},onSubmit:function(e){return function(e){return da.apply(this,arguments)}(e)},children:[(0,P.jsx)("div",{style:{width:"50%"},children:(0,P.jsx)(x.D,{level:2,children:"Gere uma nova proposta"})}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gridGap:"1rem"},children:[(0,P.jsxs)("div",{style:{width:"100%"},children:[(0,P.jsx)("label",{htmlFor:"start",style:{display:"block",paddingTop:".7rem"},children:"Selecione o produto"}),X&&(0,P.jsxs)("select",{onChange:function(e){return function(e){kn(e.target.value)}(e)},style:{width:"100%",height:"40px",borderRadius:"11px",borderColor:"#9099A9",color:"#9099A9"},children:[(0,P.jsx)("option",{value:"Selecione: ",selected:!0,disabled:!0,children:"Selecione: "}),X.map((function(e,t){return(0,P.jsx)(P.Fragment,{children:(0,P.jsx)("option",{value:e.id,style:{textTransform:"uppercase",padding:"1rem"},children:e.nome},e.id)})}))]})]}),(0,P.jsxs)("div",{style:{width:"100%"},children:[(0,P.jsx)("label",{htmlFor:"start",style:{display:"block",paddingTop:"1rem"},children:"Selecione o cliente"}),le&&(0,P.jsx)(k.ZP,{options:le,isSearchable:!0,noOptionsMessage:function(){return"Nenhum encontrado"},required:!0,onChange:function(e){return Jn(e)},isMulti:!1,placeholder:"Selecione:"})]})]}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsxs)("div",{style:{width:"100%"},children:[(0,P.jsx)("label",{htmlFor:"start",style:{display:"block"},children:"In\xedcio"}),(0,P.jsx)("input",{type:"date",name:"start",onChange:function(e){return zn(e.target.value)},required:!0,style:{width:"100%",padding:".6rem",borderRadius:"10px",borderColor:"#9099A9",border:"1px solid #9099A9"}})]}),(0,P.jsxs)("div",{style:{width:"100%"},children:[(0,P.jsx)("label",{htmlFor:"start",style:{display:"block"},children:"Devolu\xe7\xe3o"}),(0,P.jsx)("input",{type:"date",name:"end",onChange:function(e){var t=new Date(e.target.value).getUTCDay();[6,0].includes(t)?(e.preventDefault(),Pn(""),e.target.value="",alert("Selecione apenas dia de semana.")):Pn(e.target.value)},required:!0,style:{width:"100%",padding:".6rem",borderRadius:"10px",borderColor:"#9099A9",border:"1px solid #9099A9"}})]})]}),(0,P.jsxs)("div",{className:h.Z.formCheckout__div,children:[(0,P.jsx)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",gridGap:"1rem",marginTop:"1.8rem"},children:(0,P.jsx)(x.D,{level:3,children:"Dados do cliente"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",id:"razao_social",label:"Raz\xe3o Social",name:"razao_social",placeholder:"Digite sua raz\xe3o social",value:he&&he.entidade.razao_social?he.entidade.razao_social:tt,onChange:function(e){return nt(e.target.value)},required:!0,fullWidth:!0,size:"small"})}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",id:"fantasy_name",label:"Nome Fantasia",name:"fantasy_name",placeholder:"Digite seu nome fantasia",value:he?he.entidade.nome:it,onChange:function(e){return st(e.target.value)},required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:je?(0,P.jsx)(S.Z,{type:"text",label:"CNPJ",name:"cnpj",id:"cnpj",placeholder:"xx.xxx.xxx/xxxx-xx",required:!0,value:Y,onChange:function(e){return H(e.target.value)},size:"small",fullWidth:!0}):(0,P.jsx)(S.Z,{type:"text",label:"CNPJ",id:"cnpj_client",name:"cnpj_client",placeholder:"xx.xxx.xxx/xxxx-xx",value:he?he.entidade.documento:i.value,required:!0,fullWidth:!0,size:"small"})})]}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Inscri\xe7\xe3o Estadual",id:"insc_estadual",name:"insc_estadual",placeholder:"xx.xxx.xxx-x",value:he?he.entidade.inscricao_estadual:ct,onChange:function(e){return dt(e.target.value)},required:!0,fullWidth:!0,size:"small"})}),(0,P.jsxs)("div",{style:{width:"100%"},children:[(0,P.jsx)(S.Z,{type:"text",label:"Email",id:"email_client",name:"email_client",placeholder:"emailsolicitante@com.br",value:he?he.entidade.email:ht,onChange:function(e){return mt(e.target.value)},required:!0,fullWidth:!0,size:"small"}),(0,P.jsx)("p",{style:{fontSize:".875rem",color:"red"},children:xa})]})]}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:".5rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Solicitante",id:"solicitante",name:"solicitante",placeholder:"Digite o nome da(o) solicitante",defaultValue:Qe,onChange:function(e){return Ke(e.target.value)},required:!0,fullWidth:!0,size:"small"})}),(0,P.jsxs)("div",{style:{width:"100%"},children:[(0,P.jsx)(S.Z,{type:"text",label:"Email fatura",id:"email_fatura",name:"email_fatura",placeholder:"emailfatura@com.br",defaultValue:Ve,onChange:function(e){return Ue(e.target.value)},required:!0,fullWidth:!0,size:"small"}),(0,P.jsx)("p",{style:{fontSize:".875rem",color:"red"},children:xa})]})]})]}),(0,P.jsxs)("div",{className:h.Z.formCheckout__div,style:{marginTop:"1.8rem"},children:[(0,P.jsx)(x.D,{level:3,children:"Detalhes do faturamento"}),(0,P.jsx)("div",{style:{paddingBottom:".875rem"},children:(0,P.jsxs)("div",{style:{display:"flex",flexDirection:"row",gridGap:"1rem"},children:[(0,P.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,P.jsx)("input",{type:"checkbox",id:"a-vista",checked:"checkbox1"===ta,onChange:function(){return la("checkbox1")}}),(0,P.jsx)("span",{children:"\xc0 vista"})]}),(0,P.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,P.jsx)("input",{type:"checkbox",id:"boleto-15",checked:"checkbox2"===ta,onChange:function(){return la("checkbox2")}}),(0,P.jsx)("span",{children:"Boleto - 15 dias"})]}),(0,P.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[(0,P.jsx)("input",{type:"checkbox",id:"boleto-28",checked:"checkbox3"===ta,onChange:function(){return la("checkbox3")}}),(0,P.jsx)("span",{children:"Boleto - 28 dias"})]})]})}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"CEP",id:"cep_c",name:"cep_c",placeholder:"Digite seu CEP",value:he&&he.entidade.enderecos[0]?he.entidade.enderecos[0].endereco.cep:yt,onChange:function(e){return gt(e.target.value)},required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Rua/Av",id:"street",name:"street",placeholder:"Digite sua rua ou avenida",value:he&&he.entidade.enderecos[0]?he.entidade.enderecos[0].endereco.rua:kt,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"number",id:"number_c",label:"N\xfamero",placeholder:"Digite o n\xfamero",name:"number_c",value:he&&he.entidade.enderecos[0]?he.entidade.enderecos[0].endereco.numero:Pt,onChange:function(e){return Wt(e.target.value)},required:!0,fullWidth:!0,size:"small"})})]}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{label:"Cidade",type:"text",id:"country",placeholder:"Digite sua cidade",name:"country",value:he&&he.entidade.enderecos[0]?he.entidade.enderecos[0].endereco.cidade.nome:Nt,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{label:"Estado",type:"text",id:"",placeholder:"Digite seu estado",name:"",value:he&&he.entidade.enderecos[0]?he.entidade.enderecos[0].endereco.cidade.estado.nome:Gt,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Bairro",id:"bairro",placeholder:"Digite seu bairro",name:"bairro",value:he&&he.entidade.enderecos[0]?he.entidade.enderecos[0].endereco.bairro:Mt,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{label:"Complemento",type:"text",id:"",name:"",placeholder:"Digite um complemento",fullWidth:!0,size:"small"})})]})]}),(0,P.jsxs)("div",{className:h.Z.formCheckout__div,style:{marginTop:"1.8rem"},children:[(0,P.jsx)(x.D,{level:3,children:"Detalhes de entrega"}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"CEP",id:"cep_e",name:"cep_e",placeholder:"Digite seu CEP",value:jt,onChange:function(e){return Zt(e.target.value)},required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",label:"Rua/Av",placeholder:"Digite sua rua ou avenida",id:"street",name:"street",value:Kt,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"number",label:"N\xfamero",id:"number_e",name:"number_e",placeholder:"Digite o n\xfamero",value:nn,onChange:function(e){return an(e.target.value)},required:!0,fullWidth:!0,size:"small"})})]}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{type:"text",id:"city_e",label:"Cidade",placeholder:"Digite sua cidade",name:"city_e",value:ln,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{label:"Estado",type:"text",id:"",name:"",placeholder:"Digite seu estado",value:un,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{label:"Bairro",type:"text",id:"bairro",name:"bairro",placeholder:"Digite seu bairro",value:xn,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{label:"Complemento",type:"text",id:"",placeholder:"Digite um complemento",name:"",fullWidth:!0,size:"small"})})]}),(0,P.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",gridGap:"1rem",alignItems:"center",marginTop:"1rem"},children:[(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{label:"Nome(respons\xe1vel por receber)",type:"text",id:"",name:"",placeholder:"Digite o nome do respons\xe1vel",onChange:function(e){return ge(e.target.value)},value:ye,required:!0,fullWidth:!0,size:"small"})}),(0,P.jsx)("div",{style:{width:"100%"},children:(0,P.jsx)(S.Z,{label:"Telefone",type:"text",name:"tel_company",id:"tel_company",placeholder:"(00) 000000000",required:!0,fullWidth:!0,size:"small",onChange:function(e){return a.setValue(e.target.value)}})})]})]}),wn?(0,P.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 6fr",alignItems:"center",paddingTop:"2rem",width:"max-content"},children:[(0,P.jsx)(y.ili,{style:{width:"40px",height:"40px"}}),(0,P.jsxs)("p",{style:{borderBottom:"1px solid #ccc",display:"flex",alignItems:"center"},children:[wn,(0,P.jsx)("label",{children:(0,P.jsx)(b.oFd,{color:"green",style:{width:"30px",height:"30px"}})})]})]}):(0,P.jsx)(P.Fragment,{}),ae?(0,P.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 6fr",alignItems:"center",paddingTop:"2rem",width:"max-content"},children:[(0,P.jsx)(y.ili,{style:{width:"40px",height:"40px"}}),(0,P.jsxs)("p",{style:{borderBottom:"1px solid #ccc",display:"flex",alignItems:"center"},children:[ae,(0,P.jsx)("label",{children:(0,P.jsx)(y.wr$,{color:"red",style:{width:"20px",height:"20px"}})})]})]}):(0,P.jsx)(P.Fragment,{}),(0,P.jsx)("div",{style:{display:"flex",gridGap:"4px",alignItems:"center",marginTop:"1rem"},children:(0,P.jsxs)("p",{children:[(0,P.jsx)("b",{children:"Dias:"})," ",Tn?"".concat(Tn,Tn>1?" dias":" dia"):0]})}),(0,P.jsx)("div",{style:{display:"flex",gridGap:"4px",alignItems:"center",marginTop:"-1rem"},children:(0,P.jsxs)("p",{children:[(0,P.jsx)("b",{children:"Frete:"})," ",o?o.toLocaleString("pt-br",{style:"currency",currency:"BRL"}):0]})}),(0,P.jsx)("div",{style:{display:"flex",gridGap:"4px",alignItems:"center",marginTop:"-1rem"},children:(0,P.jsxs)("p",{children:[(0,P.jsx)("b",{children:"Aluguel:"})," ",Dn?Dn.toLocaleString("pt-br",{style:"currency",currency:"BRL"}):0]})}),(0,P.jsx)("div",{style:{display:"flex",gridGap:"4px",alignItems:"center",marginTop:"-1rem"},children:(0,P.jsxs)("p",{children:[(0,P.jsx)("b",{children:"Total:"})," ",(o+Dn).toLocaleString("pt-br",{style:"currency",currency:"BRL"})]})}),(0,P.jsxs)("div",{style:{display:"flex",gridGap:"1rem",width:"100%",alignItems:"center"},children:[(0,P.jsx)(w.Z,{type:"submit",loading:!!Me,color:"primary",variant:"contained",size:"medium",children:"Gerar Proposta"}),(0,P.jsx)(w.Z,{type:"submit",color:"warning",variant:"contained",size:"medium",onClick:function(e){return n(!t)},children:"Cancelar"}),Pe&&(0,P.jsx)("div",{style:{width:"405px"},children:(0,P.jsx)("p",{style:{color:"red",width:"100%"},children:Pe})}),Ne&&(0,P.jsx)("div",{style:{width:"405px"},children:(0,P.jsx)("p",{style:{color:"green",width:"100%"},children:Ne})})]})]})]})})})};var N=function(){var e=c.useState(!1),t=(0,r.Z)(e,2),n=t[0],a=t[1],u=c.useState(!1),p=(0,r.Z)(u,2),h=p[0],m=p[1];return(0,c.useContext)(d.S).usuario,(0,P.jsxs)(i.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,P.jsxs)(i.ZP,{item:!0,children:[(0,P.jsx)(s.Z,{variant:"h3",component:"h3",gutterBottom:!0,children:"Or\xe7amentos | Propostas"}),(0,P.jsx)(s.Z,{variant:"subtitle2",children:"Gere um novo or\xe7amento | proposta para seus clientes."})]}),(0,P.jsxs)(i.ZP,{item:!0,children:[(0,P.jsx)(l.Z,{sx:{mt:{xs:2,md:0}},variant:"contained",startIcon:(0,P.jsx)(o.Z,{fontSize:"small"}),style:{backgroundColor:"rgb(18, 80, 130)",marginRight:"1rem"},onClick:function(e){return a(!n)},children:"Gerar or\xe7amento"}),(0,P.jsx)(l.Z,{sx:{mt:{xs:2,md:0}},variant:"contained",startIcon:(0,P.jsx)(o.Z,{fontSize:"small"}),style:{backgroundColor:"rgb(18, 80, 130)"},onClick:function(e){return m(!h)},children:"Gerar proposta"})]}),n&&(0,P.jsx)(W,{data:null,setModal:a,openModal:n,edit:!1}),h&&(0,P.jsx)(q,{data:null,setModal2:m,openModal2:h,edit:!1})]})},E=n(68418),I=n(91614),R=n(57621),G=(n(93433),n(34045)),A=n(13967),L=n(9585),O=n(64554),M=n(94721),F=n(39281),J=n(79836),$=n(56890),V=n(35855),U=n(53994),Y=n(53382),H=n(70493),Q=n(13400),K=n(97513),X=n(56355),ee=n(72426),te=n.n(ee),ne=function(e){var t=e.budgets,n=(0,c.useState)([]),a=(0,r.Z)(n,2),i=a[0],l=(a[1],i.length>0),o=(0,c.useState)(0),d=(0,r.Z)(o,2),h=d[0],m=d[1],x=(0,c.useState)(5),f=(0,r.Z)(x,2),y=f[0],g=f[1],v=(0,c.useCallback)((function(){var e=G.P6.json_to_sheet(t),n=G.P6.book_new();G.P6.book_append_sheet(n,e,"Data"),(0,G.Fv)(n,"Orcamentos.xlsx")}),[t]),j=function(e){return e.filter((function(e){return!0}))}(t),Z=function(e,t,n){return e.slice(t*n,t*n+n)}(j,h,y),_=(i.length>0&&(i.length,t.length),i.length,t.length,(0,A.Z)()),w=(0,c.useState)(!1),S=(0,r.Z)(w,2),C=S[0],k=S[1],T=(0,c.useState)([]),D=(0,r.Z)(T,2),z=D[0],B=(D[1],(0,c.useState)("")),q=(0,r.Z)(B,2),N=(q[0],q[1]);function E(){return E=(0,p.Z)((0,u.Z)().mark((function e(t){var n,a,r,i,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fetch("https://nestrental.com.br:80/api/clicksign/get-document/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"}}),e.next=3,r;case 3:return i=e.sent,e.next=6,i.json();case 6:s=e.sent,N(null===s||void 0===s||null===(n=s.data.document.downloads)||void 0===n?void 0:n.original_file_url),window.open(null===s||void 0===s||null===(a=s.data.document.downloads)||void 0===a?void 0:a.original_file_url);case 9:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}return(0,P.jsxs)(R.Z,{children:[!l&&(0,P.jsx)(L.Z,{action:(0,P.jsx)(O.Z,{width:150,children:(0,P.jsx)(X.veA,{onClick:v,style:{textAlign:"right",position:"relative",left:"7rem",height:"25px",width:"25px",cursor:"pointer"}})}),title:"Or\xe7amentos cadastrados"}),(0,P.jsx)(M.Z,{}),(0,P.jsx)(F.Z,{children:(0,P.jsxs)(J.Z,{children:[(0,P.jsx)($.Z,{children:(0,P.jsxs)(V.Z,{children:[(0,P.jsx)(U.Z,{children:"Empresa"}),(0,P.jsx)(U.Z,{children:"In\xedcio"}),(0,P.jsx)(U.Z,{children:"Devolu\xe7\xe3o"}),(0,P.jsx)(U.Z,{align:"center",children:"Valor"}),(0,P.jsx)(U.Z,{align:"right",children:"A\xe7\xf5es"})]})}),(0,P.jsx)(Y.Z,{children:Z.map((function(e){var t=i.includes(null===e||void 0===e?void 0:e.id_tokencontrato);return(0,P.jsxs)(V.Z,{hover:!0,selected:t,children:[(0,P.jsx)(U.Z,{children:(0,P.jsx)(s.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.empresa})}),(0,P.jsx)(U.Z,{children:(0,P.jsx)(s.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:te()(null===e||void 0===e?void 0:e.data_inicio).utc().format("DD/MM/yyyy")})}),(0,P.jsx)(U.Z,{children:(0,P.jsx)(s.Z,{variant:"body1",fontWeight:"bold",color:"text.secondary",gutterBottom:!0,noWrap:!0,children:te()(null===e||void 0===e?void 0:e.data_devolucao).utc().format("DD/MM/yyyy")})}),(0,P.jsxs)(U.Z,{align:"right",children:[(0,P.jsx)(s.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0}),(0,P.jsx)(s.Z,{variant:"body2",color:"text.secondary",noWrap:!0,children:(null===e||void 0===e?void 0:e.valor).toLocaleString("pt-br",{style:"currency",currency:"BRL"})})]}),(0,P.jsx)(U.Z,{align:"right",children:(0,P.jsx)(H.Z,{title:"Visualizar or\xe7amento",arrow:!0,children:(0,P.jsx)(Q.Z,{sx:{"&:hover":{background:_.colors.primary.lighter},color:_.palette.primary.main},color:"inherit",size:"small",onClick:function(t){return function(e){return E.apply(this,arguments)}(null===e||void 0===e?void 0:e.id_tokencontrato)},children:(0,P.jsx)(b.rCC,{style:{width:"20px",height:"20px"}})})})})]},null===e||void 0===e?void 0:e.id_tokencontrato)}))})]})}),(0,P.jsx)(O.Z,{p:2,children:(0,P.jsx)(K.Z,{component:"div",count:j.length,onPageChange:function(e,t){m(t)},onRowsPerPageChange:function(e){g(parseInt(e.target.value))},page:h,rowsPerPage:y,rowsPerPageOptions:[5,10,25,30]})}),z&&C&&(0,P.jsx)(W,{openModal:C,setModal:k,data:z,edit:!0})]})};ne.defaultProps={budgets:[]};var ae=ne,re="Tabs_tabs__WjR7t",ie="Tabs_tab__SxmiE",se="Tabs_active__lYMTs",le=function(e){var t=e.tabs,n=(0,c.useState)(0),a=(0,r.Z)(n,2),i=a[0],s=a[1];return(0,P.jsxs)("div",{children:[(0,P.jsx)("div",{className:re,children:t.map((function(e,t){return(0,P.jsx)("div",{className:"".concat(ie," ").concat(i===t?se:""),onClick:function(){return function(e){s(e)}(t)},children:e.title},t)}))}),(0,P.jsx)("div",{className:ie.content,children:t[i].content})]})},oe=function(e){var t=e.proposal,n=(0,c.useState)([]),a=(0,r.Z)(n,2),i=a[0],l=(a[1],i.length>0),o=(0,c.useState)(0),d=(0,r.Z)(o,2),h=d[0],m=d[1],x=(0,c.useState)(5),f=(0,r.Z)(x,2),y=f[0],g=f[1],v=(0,c.useCallback)((function(){var e=G.P6.json_to_sheet(t),n=G.P6.book_new();G.P6.book_append_sheet(n,e,"Data"),(0,G.Fv)(n,"Orcamentos.xlsx")}),[t]),j=t.filter((function(e){return!0})),Z=function(e,t,n){return e.slice(t*n,t*n+n)}(j,h,y),_=(i.length>0&&(i.length,t.length),i.length,t.length,(0,A.Z)()),w=(0,c.useState)(!1),S=(0,r.Z)(w,2),C=S[0],k=S[1],T=(0,c.useState)([]),D=(0,r.Z)(T,2),z=D[0],B=(D[1],(0,c.useState)("")),q=(0,r.Z)(B,2),N=(q[0],q[1]);function E(){return E=(0,p.Z)((0,u.Z)().mark((function e(t){var n,a,r,i,s;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=fetch("https://nestrental.com.br:80/api/clicksign/get-document/".concat(t),{method:"POST",headers:{"Content-Type":"application/json"}}),e.next=3,r;case 3:return i=e.sent,e.next=6,i.json();case 6:s=e.sent,N(null===s||void 0===s||null===(n=s.data.document.downloads)||void 0===n?void 0:n.original_file_url),window.open(null===s||void 0===s||null===(a=s.data.document.downloads)||void 0===a?void 0:a.original_file_url);case 9:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}return(0,P.jsxs)(R.Z,{children:[!l&&(0,P.jsx)(L.Z,{action:(0,P.jsx)(O.Z,{width:150,children:(0,P.jsx)(X.veA,{onClick:v,style:{textAlign:"right",position:"relative",left:"7rem",height:"25px",width:"25px",cursor:"pointer"}})}),title:"Propostas cadastradas"}),(0,P.jsx)(M.Z,{}),(0,P.jsx)(F.Z,{children:(0,P.jsxs)(J.Z,{children:[(0,P.jsx)($.Z,{children:(0,P.jsxs)(V.Z,{children:[(0,P.jsx)(U.Z,{children:"Empresa"}),(0,P.jsx)(U.Z,{children:"In\xedcio"}),(0,P.jsx)(U.Z,{children:"Devolu\xe7\xe3o"}),(0,P.jsx)(U.Z,{align:"center",children:"Valor"}),(0,P.jsx)(U.Z,{align:"right",children:"A\xe7\xf5es"})]})}),(0,P.jsx)(Y.Z,{children:Z.map((function(e){var t=i.includes(null===e||void 0===e?void 0:e.id_tokencontrato);return(0,P.jsxs)(V.Z,{hover:!0,selected:t,children:[(0,P.jsx)(U.Z,{children:(0,P.jsx)(s.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.empresa})}),(0,P.jsx)(U.Z,{children:(0,P.jsx)(s.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:te()(null===e||void 0===e?void 0:e.data_inicio).utc().format("DD/MM/yyyy")})}),(0,P.jsx)(U.Z,{children:(0,P.jsx)(s.Z,{variant:"body1",fontWeight:"bold",color:"text.secondary",gutterBottom:!0,noWrap:!0,children:te()(null===e||void 0===e?void 0:e.data_devolucao).utc().format("DD/MM/yyyy")})}),(0,P.jsxs)(U.Z,{align:"right",children:[(0,P.jsx)(s.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0}),(0,P.jsx)(s.Z,{variant:"body2",color:"text.secondary",noWrap:!0,children:(null===e||void 0===e?void 0:e.valor).toLocaleString("pt-br",{style:"currency",currency:"BRL"})})]}),(0,P.jsx)(U.Z,{align:"right",children:(0,P.jsx)(H.Z,{title:"Visualizar or\xe7amento",arrow:!0,children:(0,P.jsx)(Q.Z,{sx:{"&:hover":{background:_.colors.primary.lighter},color:_.palette.primary.main},color:"inherit",size:"small",onClick:function(t){return function(e){return E.apply(this,arguments)}(null===e||void 0===e?void 0:e.id_tokencontrato)},children:(0,P.jsx)(b.rCC,{style:{width:"20px",height:"20px"}})})})})]},null===e||void 0===e?void 0:e.id_tokencontrato)}))})]})}),(0,P.jsx)(O.Z,{p:2,children:(0,P.jsx)(K.Z,{component:"div",count:j.length,onPageChange:function(e,t){m(t)},onRowsPerPageChange:function(e){g(parseInt(e.target.value))},page:h,rowsPerPage:y,rowsPerPageOptions:[5,10,25,30]})}),z&&C&&(0,P.jsx)(W,{openModal:C,setModal:k,data:z,edit:!0})]})};oe.defaultProps={proposal:[]};var ce=oe;var de=function(){var e=c.useState([]),t=(0,r.Z)(e,2),n=t[0],a=t[1];function i(){return(i=(0,p.Z)((0,u.Z)().mark((function e(){var t,n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.hi.get("/propostas");case 2:t=e.sent,n=t.data,a(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return c.useEffect((function(){!function(){i.apply(this,arguments)}()}),[]),(0,P.jsx)(R.Z,{children:(0,P.jsx)(ce,{proposal:n||[],className:""})})};var ue=function(){var e=c.useState([]),t=(0,r.Z)(e,2),n=t[0],a=t[1];function i(){return(i=(0,p.Z)((0,u.Z)().mark((function e(){var t,n;return(0,u.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.hi.get("/orcamentos");case 2:t=e.sent,n=t.data,a(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c.useEffect((function(){!function(){i.apply(this,arguments)}()}),[]);var s=[{title:"Or\xe7amentos",content:(0,P.jsx)(ae,{budgets:n||[],className:""})},{title:"Propostas",content:(0,P.jsx)(de,{})}];return(0,P.jsx)(R.Z,{children:(0,P.jsx)(le,{tabs:s})})};var pe=function(){return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(a.ql,{children:(0,P.jsx)("title",{children:"Vendas - Pedidos"})}),(0,P.jsx)(E.Z,{children:(0,P.jsx)(N,{})}),(0,P.jsx)(I.Z,{maxWidth:"lg",children:(0,P.jsx)(i.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,P.jsx)(i.ZP,{item:!0,xs:12,children:(0,P.jsx)(ue,{})})})})]})}},98243:function(e,t){t.Z={modal:"Modal_modal__5Lj9m",modal__divCloseButton:"Modal_modal__divCloseButton__tTZ3Y",modal__divCloseButton__closeButton:"Modal_modal__divCloseButton__closeButton__ABY0m",modal__closeButton:"Modal_modal__closeButton__ZDrqX",modalCategory:"Modal_modalCategory__IjrSy",modalCategory__divCloseButton:"Modal_modalCategory__divCloseButton__5mZKo",modalCategory__closeButton:"Modal_modalCategory__closeButton__fGLZH"}}}]);
//# sourceMappingURL=646.068af7e8.chunk.js.map