"use strict";(self.webpackChunknest_rental=self.webpackChunknest_rental||[]).push([[769],{62296:function(n,e,t){t.d(e,{U:function(){return m}});var r=t(74165),a=t(15861),o=t(29439),i=t(98243),s=t(78820),c=t(72791),l=t(39709),d=t(88315),u=t(97438),h=t(5229),x=t(80184),m=function(n){var e=n.openModal,t=n.setModal,m=n.data,f=n.edit,p=(0,c.useState)(""),Z=(0,o.Z)(p,2),v=Z[0],j=Z[1],g=(0,c.useState)(""),_=(0,o.Z)(g,2),y=_[0],C=_[1],w=(0,c.useState)(""),b=(0,o.Z)(w,2),M=b[0],k=b[1],S=(0,c.useState)(!1),P=(0,o.Z)(S,2),B=P[0],z=P[1],E=(0,c.useState)(""),T=(0,o.Z)(E,2),D=T[0],I=T[1];function N(){return(N=(0,a.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),z(!0),h.Z.put("/marcas/".concat(M),{nome:v,identificador:"???"}).then((function(n){202==n.status&&I("Marca editada com sucesso")})).catch((function(n){return I("Erro no servidor, por favor, tente novamente.")})),z(!1),window.location.reload();case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}function L(){return(L=(0,a.Z)((0,r.Z)().mark((function n(e){return(0,r.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e.preventDefault(),z(!0),h.Z.post("/marcas",{nome:y,identificador:"???"}).then((function(n){202==n.status&&I("Marca criada com sucesso")})).catch((function(n){return I("Erro no servidor, por favor, tente novamente.")})),z(!1),window.location.reload();case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,c.useEffect)((function(){m&&(j(m.nome),k(m.id))}),[m]),(0,x.jsx)(x.Fragment,{children:e&&(0,x.jsxs)("div",{className:i.Z.modalCategory,style:{backgroundColor:"rgb(255, 255, 255)"},children:[(0,x.jsx)("div",{className:i.Z.modal__divCloseButton,children:(0,x.jsx)("button",{className:i.Z.modal__divCloseButton__closeButton,onClick:function(n){return t(!e)},children:(0,x.jsx)(s.LHV,{})})}),(0,x.jsx)(d.D,{children:"Nova marca"}),(0,x.jsxs)("form",{onSubmit:f?function(n){return N.apply(this,arguments)}:function(n){return L.apply(this,arguments)},children:[(0,x.jsx)("div",{style:{marginTop:"1rem"},children:(0,x.jsx)(u.Z,{id:"brand_name",type:"text",label:"Nome",fullWidth:!0,required:!0,color:"primary",placeholder:"Digite o nome da nova marca",onChange:f?function(n){return j(n.target.value)}:function(n){return C(n.target.value)},value:f?v:y})}),(0,x.jsxs)("div",{style:{display:"flex",gridGap:"1rem",marginTop:"1rem"},children:[f?(0,x.jsx)(l.Z,{color:"primary",type:"submit",variant:"contained",size:"medium",loading:!!B,children:"Editar"}):(0,x.jsx)(l.Z,{color:"primary",type:"submit",variant:"contained",size:"medium",loading:!!B,children:"Cadastrar"}),(0,x.jsx)(l.Z,{color:"warning",size:"medium",variant:"contained",onClick:function(n){return t(!e)},children:"Cancelar"})]}),!B&&D&&(0,x.jsx)("p",{children:D})]})]})})}},68418:function(n,e,t){var r=t(66934),a=t(64554),o=t(91614),i=t(80184),s=(0,r.ZP)(a.Z)((function(n){var e=n.theme;return"\n        padding: ".concat(e.spacing(4),";\n")}));e.Z=function(n){var e=n.children;return(0,i.jsx)(s,{className:"MuiPageTitle-wrapper",children:(0,i.jsx)(o.Z,{maxWidth:"lg",children:e})})}},49769:function(n,e,t){t.r(e),t.d(e,{default:function(){return Y}});var r=t(6907),a=t(29439),o=t(61889),i=t(20890),s=t(24518),c=t(74696),l=t(72791),d=t(5167),u=t(62296),h=t(80184);var x=function(){var n=l.useState(!1),e=(0,a.Z)(n,2),t=e[0],r=e[1],x=(0,l.useContext)(d.S).usuario;return(0,h.jsxs)(o.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,h.jsxs)(o.ZP,{item:!0,children:[(0,h.jsx)(i.Z,{variant:"h3",component:"h3",gutterBottom:!0,children:"Marcas"}),(0,h.jsx)(i.Z,{variant:"subtitle2",children:"Gerencie as marcas dos seus produtos"})]}),(0,h.jsx)(o.ZP,{item:!0,children:3===(null===x||void 0===x?void 0:x.id_perfil)?"":(0,h.jsx)(s.Z,{sx:{mt:{xs:2,md:0}},variant:"contained",startIcon:(0,h.jsx)(c.Z,{fontSize:"small"}),style:{backgroundColor:"rgb(18, 80, 130)"},onClick:function(n){return r(!t)},children:"Cadastrar marca"})}),(0,h.jsx)(u.U,{data:null,setModal:r,openModal:t,edit:!1})]})},m=t(68418),f=t(91614),p=t(74165),Z=t(15861),v=t(57621),j=t(5229),g=t(93433),_=t(13967),y=t(64554),C=t(9585),w=t(94721),b=t(39281),M=t(79836),k=t(56890),S=t(35855),P=t(53994),B=t(53382),z=t(94454),E=t(70493),T=t(13400),D=t(97513),I=t(34045),N=t(31675),L=t(71715),A=t(66934),W=t(68036),F=t(74934),H=(0,A.ZP)(s.Z)((function(n){var e=n.theme;return"\n     background: ".concat(e.colors.error.main,";\n     color: ").concat(e.palette.error.contrastText,";\n\n     &:hover {\n        background: ").concat(e.colors.error.dark,";\n     }\n    ")}));var V=function(n){var e=n.id_brand,t=(0,l.useState)(!1),r=(0,a.Z)(t,2),o=r[0],s=r[1],c=(0,l.useRef)(null),d=(0,l.useState)(""),u=(0,a.Z)(d,2),x=(u[0],u[1]),m=(0,l.useState)(""),f=(0,a.Z)(m,2),v=(f[0],f[1],(0,l.useState)(!1)),j=(0,a.Z)(v,2),g=(j[0],j[1]),_=function(){var n=(0,Z.Z)((0,p.Z)().mark((function n(t){var r,a;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return g(!0),t.preventDefault(),r=fetch("https://nestrental.com.br:80/api/marcas/".concat(e[0]),{method:"DELETE"}),n.next=5,r;case 5:return a=n.sent,n.next=8,a.json();case 8:n.sent,x("Marca exclu\xedda com sucesso."),window.location.reload();case 11:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(y.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,h.jsxs)(y.Z,{display:"flex",alignItems:"center",children:[(0,h.jsx)(i.Z,{variant:"h5",color:"text.secondary",children:"A\xe7\xf5es:"}),(0,h.jsx)(H,{sx:{ml:1},startIcon:(0,h.jsx)(W.Z,{}),variant:"contained",onClick:function(n){return _(n)},children:"Excluir"})]}),(0,h.jsx)(T.Z,{color:"primary",onClick:function(){s(!0)},ref:c,sx:{ml:2,p:1},children:(0,h.jsx)(F.Z,{})})]}),(0,h.jsx)(L.Z,{keepMounted:!0,anchorEl:c.current,open:o,onClose:function(){s(!1)},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}})]})},q=t(56355),G=t(30960),O=function(n){var e=n.brands,t=(0,l.useState)([]),r=(0,a.Z)(t,2),o=r[0],s=r[1],c=(0,l.useState)(0),d=(0,a.Z)(c,2),x=d[0],m=d[1],f=(0,l.useState)(5),j=(0,a.Z)(f,2),L=j[0],A=j[1],W=(0,l.useState)(null),F=(0,a.Z)(W,2),H=F[0],O=F[1],U=(0,l.useState)(!1),R=(0,a.Z)(U,2),Y=R[0],K=R[1],X=o.length>0,J=(0,l.useCallback)((function(){var n=I.P6.json_to_sheet(e),t=I.P6.book_new();I.P6.book_append_sheet(t,n,"Data"),(0,I.Fv)(t,"Marcas.xlsx")}),[e]),Q=function(n){return n.filter((function(n){return!0}))}(e),$=function(n,e,t){return n.slice(e*t,e*t+t)}(Q,x,L),nn=(o.length>0&&(o.length,e.length),o.length,e.length,(0,_.Z)());function en(){return en=(0,Z.Z)((0,p.Z)().mark((function n(e){var t,r;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return K(!Y),O(null),n.next=4,G.hi.get("/marcas/".concat(e));case 4:t=n.sent,r=t.data,O(r||null);case 7:case"end":return n.stop()}}),n)}))),en.apply(this,arguments)}return(0,h.jsxs)(v.Z,{children:[X&&(0,h.jsx)(y.Z,{flex:1,p:2,children:(0,h.jsx)(V,{id_brand:o})}),!X&&(0,h.jsx)(C.Z,{action:(0,h.jsx)(y.Z,{width:150,children:(0,h.jsx)(q.veA,{onClick:J,style:{textAlign:"right",position:"relative",left:"7rem",height:"25px",width:"25px",cursor:"pointer"}})}),title:"Marcas cadastradas"}),(0,h.jsx)(w.Z,{}),(0,h.jsx)(b.Z,{children:(0,h.jsxs)(M.Z,{children:[(0,h.jsx)(k.Z,{children:(0,h.jsxs)(S.Z,{children:[(0,h.jsx)(P.Z,{}),(0,h.jsx)(P.Z,{children:"Nome marca"}),(0,h.jsx)(P.Z,{children:"ID Marca"}),(0,h.jsx)(P.Z,{align:"right",children:"A\xe7\xf5es"})]})}),(0,h.jsx)(B.Z,{children:$.map((function(n){var e=o.includes(n.id);return(0,h.jsxs)(S.Z,{hover:!0,selected:e,children:[(0,h.jsx)(P.Z,{padding:"checkbox",children:(0,h.jsx)(z.Z,{color:"primary",checked:e,onChange:function(e){return t=n.id,void(o.includes(t)?s((function(n){return n.filter((function(n){return n!==t}))})):s((function(n){return[].concat((0,g.Z)(n),[t])})));var t},value:e})}),(0,h.jsx)(P.Z,{children:(0,h.jsx)(i.Z,{variant:"body2",color:"text.secondary",noWrap:!0,children:n.nome})}),(0,h.jsx)(P.Z,{children:(0,h.jsx)(i.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:n.identificador})}),(0,h.jsx)(P.Z,{align:"right",children:(0,h.jsx)(E.Z,{title:"Editar Marca",arrow:!0,children:(0,h.jsx)(T.Z,{sx:{"&:hover":{background:nn.colors.primary.lighter},color:nn.palette.primary.main},color:"inherit",size:"small",onClick:function(e){return function(n){return en.apply(this,arguments)}(n.id)},children:(0,h.jsx)(N.Z,{fontSize:"small"})})})})]},n.id)}))})]})}),(0,h.jsx)(y.Z,{p:2,children:(0,h.jsx)(D.Z,{component:"div",count:Q.length,onPageChange:function(n,e){m(e)},onRowsPerPageChange:function(n){A(parseInt(n.target.value))},page:x,rowsPerPage:L,rowsPerPageOptions:[5,10,25,30]})}),H&&Y&&(0,h.jsx)(u.U,{openModal:Y,setModal:K,data:H,edit:!0})]})};O.defaultProps={brands:[]};var U=O;var R=function(){var n=(0,l.useState)([]),e=(0,a.Z)(n,2),t=e[0],r=e[1];function o(){return(o=(0,Z.Z)((0,p.Z)().mark((function n(){var e,t;return(0,p.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.Z.get("/marcas");case 2:e=n.sent,t=e.data,r(t);case 5:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return(0,l.useEffect)((function(){!function(){o.apply(this,arguments)}()}),[]),(0,h.jsx)(v.Z,{children:(0,h.jsx)(U,{brands:t||[],panel:!1,className:""})})};var Y=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(r.ql,{children:(0,h.jsx)("title",{children:"Marcas - Produtos"})}),(0,h.jsx)(m.Z,{children:(0,h.jsx)(x,{})}),(0,h.jsx)(f.Z,{maxWidth:"lg",children:(0,h.jsx)(o.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,h.jsx)(o.ZP,{item:!0,xs:12,children:(0,h.jsx)(R,{})})})})]})}},74696:function(n,e,t){var r=t(95318);e.Z=void 0;var a=r(t(45649)),o=t(80184),i=(0,a.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddTwoTone");e.Z=i},31675:function(n,e,t){var r=t(95318);e.Z=void 0;var a=r(t(45649)),o=t(80184),i=(0,a.default)([(0,o.jsx)("path",{d:"M5 18.08V19h.92l9.06-9.06-.92-.92z",opacity:".3"},"0"),(0,o.jsx)("path",{d:"M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83zM3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06.92.92L5.92 19z"},"1")],"EditTwoTone");e.Z=i},98243:function(n,e){e.Z={modal:"Modal_modal__5Lj9m",modal__divCloseButton:"Modal_modal__divCloseButton__tTZ3Y",modal__divCloseButton__closeButton:"Modal_modal__divCloseButton__closeButton__ABY0m",modal__closeButton:"Modal_modal__closeButton__ZDrqX",modalCategory:"Modal_modalCategory__IjrSy",modalCategory__divCloseButton:"Modal_modalCategory__divCloseButton__5mZKo",modalCategory__closeButton:"Modal_modalCategory__closeButton__fGLZH"}}}]);
//# sourceMappingURL=769.d51c9353.chunk.js.map