"use strict";(self.webpackChunknest_rental=self.webpackChunknest_rental||[]).push([[752],{68418:function(e,t,n){var r=n(66934),o=n(64554),a=n(91614),i=n(80184),c=(0,r.ZP)(o.Z)((function(e){var t=e.theme;return"\n        padding: ".concat(t.spacing(4),";\n")}));t.Z=function(e){var t=e.children;return(0,i.jsx)(c,{className:"MuiPageTitle-wrapper",children:(0,i.jsx)(a.Z,{maxWidth:"lg",children:t})})}},83752:function(e,t,n){n.r(t),n.d(t,{default:function(){return $}});var r=n(6907),o=n(29439),a=n(72791),i=n(61889),c=n(20890),s=n(24518),l=n(74696),d=n(74165),u=n(15861),h=n(98243),p=n(78820),f=n(5229),v=n(88315),Z=n(39709),x=n(97438),m=n(5167),g=n(80184),j=function(e){var t=e.openModal,n=e.setModal,r=e.data,i=e.edit,c=(0,a.useState)(""),s=(0,o.Z)(c,2),l=s[0],j=s[1],y=(0,a.useState)(""),C=(0,o.Z)(y,2),_=C[0],k=C[1],b=(0,a.useState)(""),w=(0,o.Z)(b,2),S=w[0],z=w[1],P=(0,a.useState)(!1),B=(0,o.Z)(P,2),M=B[0],I=B[1],F=(0,a.useState)(""),E=(0,o.Z)(F,2),R=E[0],T=E[1],H=(0,a.useState)(""),V=(0,o.Z)(H,2),D=V[0],N=V[1],L=(0,a.useContext)(m.S).usuario;function O(){return(O=(0,u.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),I(!0),f.Z.put("/categorias/".concat(S),{descricao:l}).then((function(e){202==e.status&&T("Categoria editada com sucesso")})).catch((function(e){return N("Erro no servidor, por favor, tente novamente.")})),I(!1),window.location.reload();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(){return(q=(0,u.Z)((0,d.Z)().mark((function e(t){return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),I(!0),f.Z.post("/categorias",{descricao:_}).then((function(e){202==e.status&&T("Categoria criada com sucesso")})).catch((function(e){return N("Erro no servidor, por favor, tente novamente.")})),I(!1),window.location.reload();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,a.useEffect)((function(){r&&(j(null===r||void 0===r?void 0:r.descricao),z(null===r||void 0===r?void 0:r.id))}),[r]),(0,g.jsx)(g.Fragment,{children:t&&(0,g.jsxs)("div",{className:h.Z.modalCategory,style:{backgroundColor:"rgb(255, 255, 255)"},children:[(0,g.jsx)("div",{className:h.Z.modal__divCloseButton,children:(0,g.jsx)("button",{className:h.Z.modal__divCloseButton__closeButton,onClick:function(e){return n(!t)},children:(0,g.jsx)(p.LHV,{})})}),(0,g.jsx)(v.D,{children:"Nova categoria"}),(0,g.jsxs)("form",{onSubmit:i?function(e){return O.apply(this,arguments)}:function(e){return q.apply(this,arguments)},children:[(0,g.jsx)("div",{style:{marginTop:"1rem"},children:(0,g.jsx)(x.Z,{id:"category_name",type:"text",label:"Nome da categoria",fullWidth:!0,required:!0,color:"primary",placeholder:"Digite o nome da categoria",onChange:i?function(e){return j(e.target.value)}:function(e){return k(e.target.value)},value:i?l:_})}),3===(null===L||void 0===L?void 0:L.id_perfil)?"":(0,g.jsxs)("div",{style:{display:"flex",gridGap:"1rem",alignItems:"center",marginTop:"1rem"},children:[i?(0,g.jsx)(Z.Z,{color:"primary",type:"submit",variant:"contained",size:"medium",loading:!!M,children:"Editar"}):(0,g.jsx)(Z.Z,{color:"primary",type:"submit",variant:"contained",size:"medium",loading:!!M,children:"Cadastrar"}),(0,g.jsx)(Z.Z,{color:"warning",size:"medium",variant:"contained",onClick:function(e){return n(!t)},children:"Cancelar"})]}),(0,g.jsxs)("div",{children:[!M&&R&&(0,g.jsx)("p",{style:{color:"green"},children:R}),!M&&D&&(0,g.jsx)("p",{style:{color:"red"},children:D})]})]})]})})};var y=function(){var e=a.useState(!1),t=(0,o.Z)(e,2),n=t[0],r=t[1],d=(0,a.useContext)(m.S).usuario;return(0,g.jsxs)(i.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,g.jsxs)(i.ZP,{item:!0,children:[(0,g.jsx)(c.Z,{variant:"h3",component:"h3",gutterBottom:!0,children:"Categorias"}),(0,g.jsx)(c.Z,{variant:"subtitle2",children:"Cadastre novas categorias para os produtos da sua empresa"})]}),(0,g.jsx)(i.ZP,{item:!0,children:3===(null===d||void 0===d?void 0:d.id_perfil)?"":(0,g.jsx)(s.Z,{sx:{mt:{xs:2,md:0}},variant:"contained",startIcon:(0,g.jsx)(l.Z,{fontSize:"small"}),style:{backgroundColor:"rgb(18, 80, 130)"},onClick:function(e){return r(!n)},children:"Cadastrar categoria"})}),(0,g.jsx)(j,{setModal:r,openModal:n,data:"",edit:!1})]})},C=n(68418),_=n(91614),k=n(57621),b=n(93433),w=n(30960),S=n(13967),z=n(64554),P=n(9585),B=n(94721),M=n(39281),I=n(79836),F=n(56890),E=n(35855),R=n(53994),T=n(53382),H=n(94454),V=n(70493),D=n(13400),N=n(97513),L=n(34045),O=n(31675),q=n(71715),W=n(66934),A=n(68036),G=n(74934),Y=(0,W.ZP)(s.Z)((function(e){var t=e.theme;return"\n     background: ".concat(t.colors.error.main,";\n     color: ").concat(t.palette.error.contrastText,";\n\n     &:hover {\n        background: ").concat(t.colors.error.dark,";\n     }\n    ")}));var K=function(e){var t=e.id_category,n=(0,a.useState)(!1),r=(0,o.Z)(n,2),i=r[0],s=r[1],l=(0,a.useRef)(null),h=(0,a.useState)(!1),p=(0,o.Z)(h,2),f=(p[0],p[1]),v=(0,a.useState)(""),Z=(0,o.Z)(v,2),x=(Z[0],Z[1]),m=function(){var e=(0,u.Z)((0,d.Z)().mark((function e(n){var r,o;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),n.preventDefault(),r=fetch("https://nestrental.com.br:80/api/categorias/".concat(t[0]),{method:"DELETE"}),e.next=5,r;case 5:return o=e.sent,e.next=8,o.json();case 8:e.sent,x("Categoria exclu\xedda com sucesso."),window.location.reload();case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(z.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,g.jsxs)(z.Z,{display:"flex",alignItems:"center",children:[(0,g.jsx)(c.Z,{variant:"h5",color:"text.secondary",children:"A\xe7\xf5es:"}),(0,g.jsx)(Y,{sx:{ml:1},startIcon:(0,g.jsx)(A.Z,{}),variant:"contained",onClick:function(e){return m(e)},children:"Excluir"})]}),(0,g.jsx)(D.Z,{color:"primary",onClick:function(){s(!0)},ref:l,sx:{ml:2,p:1},children:(0,g.jsx)(G.Z,{})})]}),(0,g.jsx)(q.Z,{keepMounted:!0,anchorEl:l.current,open:i,onClose:function(){s(!1)},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}})]})},X=n(56355),J=function(e){var t=e.categories,n=(0,a.useState)([]),r=(0,o.Z)(n,2),i=r[0],s=r[1],l=i.length>0,h=(0,a.useState)(0),p=(0,o.Z)(h,2),f=p[0],v=p[1],Z=(0,a.useState)(5),x=(0,o.Z)(Z,2),m=x[0],y=x[1],C=(0,a.useCallback)((function(){var e=L.P6.json_to_sheet(t),n=L.P6.book_new();L.P6.book_append_sheet(n,e,"Data"),(0,L.Fv)(n,"Categorias.xlsx")}),[t]),_=function(e){return e.filter((function(e){return!0}))}(t),q=function(e,t,n){return e.slice(t*n,t*n+n)}(_,f,m),W=(i.length>0&&(i.length,t.length),i.length,t.length,(0,S.Z)()),A=(0,a.useState)([]),G=(0,o.Z)(A,2),Y=G[0],J=G[1],Q=(0,a.useState)([]),U=(0,o.Z)(Q,2),$=(U[0],U[1],(0,a.useState)(!1)),ee=(0,o.Z)($,2),te=ee[0],ne=ee[1];function re(){return re=(0,u.Z)((0,d.Z)().mark((function e(t){var n,r;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(!te),J(null),e.next=4,w.hi.get("/categorias/".concat(t));case 4:n=e.sent,r=n.data,J(r||null);case 7:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}return(0,g.jsxs)(k.Z,{children:[l&&(0,g.jsx)(z.Z,{flex:1,p:2,children:(0,g.jsx)(K,{id_category:i})}),!l&&(0,g.jsx)(P.Z,{action:(0,g.jsx)(z.Z,{width:150,children:(0,g.jsx)(X.veA,{onClick:C,style:{textAlign:"right",position:"relative",left:"7rem",height:"25px",width:"25px",cursor:"pointer"}})}),title:"Categorias cadastradas"}),(0,g.jsx)(B.Z,{}),(0,g.jsx)(M.Z,{children:(0,g.jsxs)(I.Z,{children:[(0,g.jsx)(F.Z,{children:(0,g.jsxs)(E.Z,{children:[(0,g.jsx)(R.Z,{}),(0,g.jsx)(R.Z,{children:"Detalhes categoria"}),(0,g.jsx)(R.Z,{children:"ID categoria"}),(0,g.jsx)(R.Z,{align:"right",children:"A\xe7\xf5es"})]})}),(0,g.jsx)(T.Z,{children:q.map((function(e){var t=i.includes(e.id);return(0,g.jsxs)(E.Z,{hover:!0,selected:t,children:[(0,g.jsx)(R.Z,{padding:"checkbox",children:(0,g.jsx)(H.Z,{color:"primary",checked:t,onChange:function(t){return function(e,t){i.includes(t)?s((function(e){return e.filter((function(e){return e!==t}))})):s((function(e){return[].concat((0,b.Z)(e),[t])}))}(0,e.id)},value:t})}),(0,g.jsx)(R.Z,{children:(0,g.jsx)(c.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.descricao})}),(0,g.jsx)(R.Z,{children:(0,g.jsx)(c.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.id})}),(0,g.jsx)(R.Z,{align:"right",children:(0,g.jsx)(V.Z,{title:"Editar categoria",arrow:!0,children:(0,g.jsx)(D.Z,{sx:{"&:hover":{background:W.colors.primary.lighter},color:W.palette.primary.main},color:"inherit",size:"small",onClick:function(t){return function(e){return re.apply(this,arguments)}(e.id)},children:(0,g.jsx)(O.Z,{fontSize:"small"})})})})]},e.id)}))})]})}),(0,g.jsx)(z.Z,{p:2,children:(0,g.jsx)(N.Z,{component:"div",count:_.length,onPageChange:function(e,t){v(t)},onRowsPerPageChange:function(e){y(parseInt(e.target.value))},page:f,rowsPerPage:m,rowsPerPageOptions:[5,10,25,30]})}),Y&&te&&(0,g.jsx)(j,{openModal:te,setModal:ne,data:Y,edit:!0})]})};J.defaultProps={categories:[]};var Q=J;var U=function(){var e=(0,a.useState)([]),t=(0,o.Z)(e,2),n=t[0],r=t[1];function i(){return(i=(0,u.Z)((0,d.Z)().mark((function e(){var t,n;return(0,d.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.Z.get("/categorias");case 2:t=e.sent,n=t.data,r(n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,a.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),(0,g.jsx)(k.Z,{children:(0,g.jsx)(Q,{categories:n||[],className:""})})};var $=function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(r.ql,{children:(0,g.jsx)("title",{children:"Produtos - Cadastrar"})}),(0,g.jsx)(C.Z,{children:(0,g.jsx)(y,{})}),(0,g.jsx)(_.Z,{maxWidth:"lg",children:(0,g.jsx)(i.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,g.jsx)(i.ZP,{item:!0,xs:12,children:(0,g.jsx)(U,{})})})})]})}},74696:function(e,t,n){var r=n(95318);t.Z=void 0;var o=r(n(45649)),a=n(80184),i=(0,o.default)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddTwoTone");t.Z=i},68036:function(e,t,n){var r=n(95318);t.Z=void 0;var o=r(n(45649)),a=n(80184),i=(0,o.default)([(0,a.jsx)("path",{d:"M8 9h8v10H8z",opacity:".3"},"0"),(0,a.jsx)("path",{d:"m15.5 4-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9z"},"1")],"DeleteTwoTone");t.Z=i},31675:function(e,t,n){var r=n(95318);t.Z=void 0;var o=r(n(45649)),a=n(80184),i=(0,o.default)([(0,a.jsx)("path",{d:"M5 18.08V19h.92l9.06-9.06-.92-.92z",opacity:".3"},"0"),(0,a.jsx)("path",{d:"M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83zM3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06.92.92L5.92 19z"},"1")],"EditTwoTone");t.Z=i},74934:function(e,t,n){var r=n(95318);t.Z=void 0;var o=r(n(45649)),a=n(80184),i=(0,o.default)((0,a.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVertTwoTone");t.Z=i},94454:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(4942),o=n(63366),a=n(87462),i=n(72791),c=n(94419),s=n(12065),l=n(97278),d=n(76189),u=n(80184),h=(0,d.Z)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=(0,d.Z)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),f=(0,d.Z)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),v=n(14036),Z=n(31402),x=n(66934),m=n(21217);function g(e){return(0,m.Z)("MuiCheckbox",e)}var j=(0,n(75878).Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),y=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],C=(0,x.ZP)(l.Z,{shouldForwardProp:function(e){return(0,x.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.indeterminate&&t.indeterminate,"default"!==n.color&&t["color".concat((0,v.Z)(n.color))]]}})((function(e){var t,n=e.theme,o=e.ownerState;return(0,a.Z)({color:n.palette.text.secondary},!o.disableRipple&&{"&:hover":{backgroundColor:(0,s.Fq)("default"===o.color?n.palette.action.active:n.palette[o.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==o.color&&(t={},(0,r.Z)(t,"&.".concat(j.checked,", &.").concat(j.indeterminate),{color:n.palette[o.color].main}),(0,r.Z)(t,"&.".concat(j.disabled),{color:n.palette.action.disabled}),t))})),_=(0,u.jsx)(p,{}),k=(0,u.jsx)(h,{}),b=(0,u.jsx)(f,{}),w=i.forwardRef((function(e,t){var n,r,s=(0,Z.Z)({props:e,name:"MuiCheckbox"}),l=s.checkedIcon,d=void 0===l?_:l,h=s.color,p=void 0===h?"primary":h,f=s.icon,x=void 0===f?k:f,m=s.indeterminate,j=void 0!==m&&m,w=s.indeterminateIcon,S=void 0===w?b:w,z=s.inputProps,P=s.size,B=void 0===P?"medium":P,M=(0,o.Z)(s,y),I=j?S:x,F=j?S:d,E=(0,a.Z)({},s,{color:p,indeterminate:j,size:B}),R=function(e){var t=e.classes,n=e.indeterminate,r=e.color,o={root:["root",n&&"indeterminate","color".concat((0,v.Z)(r))]},i=(0,c.Z)(o,g,t);return(0,a.Z)({},t,i)}(E);return(0,u.jsx)(C,(0,a.Z)({type:"checkbox",inputProps:(0,a.Z)({"data-indeterminate":j},z),icon:i.cloneElement(I,{fontSize:null!=(n=I.props.fontSize)?n:B}),checkedIcon:i.cloneElement(F,{fontSize:null!=(r=F.props.fontSize)?r:B}),ownerState:E,ref:t},M,{classes:R}))}))},97278:function(e,t,n){n.d(t,{Z:function(){return j}});var r=n(29439),o=n(63366),a=n(87462),i=n(72791),c=n(28182),s=n(94419),l=n(14036),d=n(66934),u=n(98278),h=n(52930),p=n(23701),f=n(21217);function v(e){return(0,f.Z)("PrivateSwitchBase",e)}(0,n(75878).Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var Z=n(80184),x=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],m=(0,d.ZP)(p.Z)((function(e){var t=e.ownerState;return(0,a.Z)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),g=(0,d.ZP)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),j=i.forwardRef((function(e,t){var n=e.autoFocus,i=e.checked,d=e.checkedIcon,p=e.className,f=e.defaultChecked,j=e.disabled,y=e.disableFocusRipple,C=void 0!==y&&y,_=e.edge,k=void 0!==_&&_,b=e.icon,w=e.id,S=e.inputProps,z=e.inputRef,P=e.name,B=e.onBlur,M=e.onChange,I=e.onFocus,F=e.readOnly,E=e.required,R=e.tabIndex,T=e.type,H=e.value,V=(0,o.Z)(e,x),D=(0,u.Z)({controlled:i,default:Boolean(f),name:"SwitchBase",state:"checked"}),N=(0,r.Z)(D,2),L=N[0],O=N[1],q=(0,h.Z)(),W=j;q&&"undefined"===typeof W&&(W=q.disabled);var A="checkbox"===T||"radio"===T,G=(0,a.Z)({},e,{checked:L,disabled:W,disableFocusRipple:C,edge:k}),Y=function(e){var t=e.classes,n=e.checked,r=e.disabled,o=e.edge,a={root:["root",n&&"checked",r&&"disabled",o&&"edge".concat((0,l.Z)(o))],input:["input"]};return(0,s.Z)(a,v,t)}(G);return(0,Z.jsxs)(m,(0,a.Z)({component:"span",className:(0,c.Z)(Y.root,p),centerRipple:!0,focusRipple:!C,disabled:W,tabIndex:null,role:void 0,onFocus:function(e){I&&I(e),q&&q.onFocus&&q.onFocus(e)},onBlur:function(e){B&&B(e),q&&q.onBlur&&q.onBlur(e)},ownerState:G,ref:t},V,{children:[(0,Z.jsx)(g,(0,a.Z)({autoFocus:n,checked:i,defaultChecked:f,className:Y.input,disabled:W,id:A&&w,name:P,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var t=e.target.checked;O(t),M&&M(e,t)}},readOnly:F,ref:z,required:E,ownerState:G,tabIndex:R,type:T},"checkbox"===T&&void 0===H?{}:{value:H},S)),L?d:b]}))}))},98243:function(e,t){t.Z={modal:"Modal_modal__5Lj9m",modal__divCloseButton:"Modal_modal__divCloseButton__tTZ3Y",modal__divCloseButton__closeButton:"Modal_modal__divCloseButton__closeButton__ABY0m",modal__closeButton:"Modal_modal__closeButton__ZDrqX",modalCategory:"Modal_modalCategory__IjrSy",modalCategory__divCloseButton:"Modal_modalCategory__divCloseButton__5mZKo",modalCategory__closeButton:"Modal_modalCategory__closeButton__fGLZH"}}}]);
//# sourceMappingURL=752.68e448cf.chunk.js.map