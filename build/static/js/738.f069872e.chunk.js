"use strict";(self.webpackChunknest_rental=self.webpackChunknest_rental||[]).push([[738],{68418:function(e,t,n){var r=n(66934),a=n(64554),s=n(91614),i=n(80184),o=(0,r.ZP)(a.Z)((function(e){var t=e.theme;return"\n        padding: ".concat(t.spacing(4),";\n")}));t.Z=function(e){var t=e.children;return(0,i.jsx)(o,{className:"MuiPageTitle-wrapper",children:(0,i.jsx)(s.Z,{maxWidth:"lg",children:t})})}},35738:function(e,t,n){n.r(t),n.d(t,{default:function(){return M}});var r=n(74165),a=n(15861),s=n(29439),i=n(6907),o=n(61889),c=n(20890),u=n(72791),d=n(5167),l=n(16871),h=n(80184);var p=function(){(0,u.useContext)(d.S).usuario,(0,l.TH)().pathname;var e=u.useState(!1),t=(0,s.Z)(e,2);return t[0],t[1],(0,h.jsx)(o.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:(0,h.jsxs)(o.ZP,{item:!0,children:[(0,h.jsx)(c.Z,{variant:"h3",component:"h3",gutterBottom:!0,children:"Cadastro EAD"}),(0,h.jsx)(c.Z,{variant:"subtitle2",children:(0,h.jsx)("label",{children:"Gerencie o cadastro EAD de seus funcion\xe1rios."})})]})})},x=n(68418),f=n(91614),Z=n(57621),m=n(94721),j=n(39281),v=n(79836),g=n(56890),y=n(35855),_=n(53994),b=n(53382),w=n(5229),S=n(78820),C="Ead_ead__UCt6Z",k="Ead_ead-form1__gVsMq",E="Ead_ead-form2-icon__MUjU-",N="Ead_ead-form2-icon-div__kzQ3z",W="Ead_ead-form1-form__yMiPh",T="Ead_ead-form1-form-block__hJ9Wa",P="Ead_ead-form1-button__W1Ggc",A="Ead_eadList__AQ0HY",D="Ead_eadList-title__CLCoK",B="Ead_product__heya5",L=n(58617),V=n(39709),z=n(7692);var O=function(e){var t=(0,u.useState)([]),n=(0,s.Z)(t,2),i=n[0],o=n[1],l=(0,u.useState)(!1),p=(0,s.Z)(l,2),x=p[0],f=p[1],O=(0,u.useState)(""),M=(0,s.Z)(O,2),U=M[0],G=M[1],I=(0,u.useState)(""),J=(0,s.Z)(I,2),q=J[0],H=J[1],F=(0,u.useState)(""),K=(0,s.Z)(F,2),Q=K[0],Y=K[1],R=(0,u.useState)(""),X=(0,s.Z)(R,2),$=X[0],ee=X[1],te=(0,u.useState)(null),ne=(0,s.Z)(te,2),re=(ne[0],ne[1]),ae=(0,u.useState)(null),se=(0,s.Z)(ae,2),ie=se[0],oe=se[1],ce=(0,u.useState)(null),ue=(0,s.Z)(ce,2),de=(ue[0],ue[1]),le=(0,u.useState)(null),he=(0,s.Z)(le,2),pe=he[0],xe=he[1],fe=(0,u.useState)([]),Ze=(0,s.Z)(fe,2),me=Ze[0],je=Ze[1],ve=(0,u.useState)(null),ge=(0,s.Z)(ve,2),ye=(ge[0],ge[1]),_e=(0,u.useState)(null),be=(0,s.Z)(_e,2),we=be[0],Se=be[1],Ce=(0,u.useState)(null),ke=(0,s.Z)(Ce,2),Ee=ke[0],Ne=ke[1],We=(0,u.useState)(null),Te=(0,s.Z)(We,2),Pe=Te[0],Ae=Te[1],De=(0,u.useState)(null),Be=(0,s.Z)(De,2),Le=Be[0],Ve=Be[1],ze=(0,u.useState)(!1),Oe=(0,s.Z)(ze,2),Me=Oe[0],Ue=Oe[1],Ge=u.useState(!1),Ie=(0,s.Z)(Ge,2),Je=(Ie[0],Ie[1],(0,u.useState)(!1)),qe=(0,s.Z)(Je,2),He=qe[0],Fe=qe[1],Ke=(0,u.useState)(null),Qe=(0,s.Z)(Ke,2),Ye=Qe[0],Re=Qe[1],Xe=(0,u.useState)(""),$e=(0,s.Z)(Xe,2),et=$e[0],tt=$e[1],nt=u.useContext(d.S).usuario;function rt(){return rt=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.Z.get("/pedidos/dashboard/".concat(null===nt||void 0===nt?void 0:nt.id));case 2:return t=e.sent,n=t.data,tt(n[0].descricao),e.next=7,at(n[0].itens[0].id_produto);case 7:case"end":return e.stop()}}),e)}))),rt.apply(this,arguments)}function at(e){return st.apply(this,arguments)}function st(){return st=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.Z.get("/produtos/".concat(t));case 2:n=e.sent,a=n.data,o(a);case 5:case"end":return e.stop()}}),e)}))),st.apply(this,arguments)}var it=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(null===nt||void 0===nt?void 0:nt.id)){e.next=6;break}return e.next=3,w.Z.get("/pedidos/dashboard/".concat(null===nt||void 0===nt?void 0:nt.id));case 3:t=e.sent,n=t.data,xe(n[0].id);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ot=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(null===nt||void 0===nt?void 0:nt.id)){e.next=7;break}return e.next=3,w.Z.get("/pedidos/".concat(pe));case 3:t=e.sent,n=t.data,de(n.itens[0].id_produto),ct();case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ct=function(){4==e.devolution?oe(2):14==e.devolution?oe(11):34==e.devolution?oe(9):44==e.devolution?oe(7):54==e.devolution?oe(8):1==e.devolution&&oe(2)},ut=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t||null==ie){e.next=8;break}return n=fetch("https://nestrental.com.br:80/api/ead/student/enrollment",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({curso_id:ie,usuario_id:t})}),e.next=4,n;case 4:return a=e.sent,e.next=7,a.json();case 7:e.sent;case 8:setTimeout((function(){Ae(""),Ve("")}),3e3);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),dt=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){var a,s,i;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ue(!0),n.preventDefault(),2!=me.length){t.next=6;break}Ve("Limite de alunos matriculados atingido!"),t.next=19;break;case 6:if(!(me.length<2&&null!=e)){t.next=19;break}return a=fetch("https://nestrental.com.br:80/api/ead/student",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:q,nome:U,senha:Q,telefone:$,tipo:1,personalizado:e.devolution,anotacoes:null===nt||void 0===nt?void 0:nt.id,status:1})}),t.next=10,a;case 10:return s=t.sent,t.next=13,s.json();case 13:return 200==(i=t.sent).http_status?(Ve(""),Ae("Aluno matriculado com sucesso.")):409==i.http_status&&(Ve(i.message),Ae("")),re(i.data.aluno_id),t.next=18,ut(i.data.aluno_id);case 18:pt();case 19:Ue(!1);case 20:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),lt=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n,a,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=fetch("https://nestrental.com.br:80/api/ead/student/".concat(we),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:q,nome:U,senha:Q,telefone:$,tipo:1,personalizado:null===nt||void 0===nt?void 0:nt.id,status:1})}),e.next=4,n;case 4:return a=e.sent,e.next=7,a.json();case 7:200==(s=e.sent).http_status?(Ae("Dados editados com sucesso!"),Ve("")):400==s.http_status&&(Ve("Email j\xe1 cadastrado!"),Ne(""));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ht=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t,n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=fetch("https://nestrental.com.br:80/api/ead/student/".concat(n),{method:"DELETE",headers:{"Content-Type":"application/json"}}),e.next=4,a;case 4:e.sent,pt();case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pt=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(){var n,a,s;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=fetch("https://nestrental.com.br:80/api/ead/student/".concat(e.devolution,"/").concat(null===nt||void 0===nt?void 0:nt.id),{method:"GET",headers:{"Content-Type":"application/json"}}),t.next=3,n;case 3:return a=t.sent,t.next=6,a.json();case 6:s=t.sent,ye(s.length),je(s);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,u.useEffect)((function(){it(),ot()}),[Ee||Le]),(0,u.useEffect)((function(){!function(){rt.apply(this,arguments)}(),ct()}),[e.devolution]),(0,u.useEffect)((function(){pt()}),[null!=e.devolution]),(0,h.jsxs)(Z.Z,{children:[x&&(0,h.jsxs)(u.Fragment,{children:[(0,h.jsx)(Z.Z,{className:C,children:(0,h.jsxs)("div",{className:k,children:[(0,h.jsxs)("div",{className:E,children:[(0,h.jsxs)("div",{className:N,children:[(0,h.jsx)(S.vM4,{style:{width:"35px",height:"35px"}})," ",(0,h.jsx)("h3",{children:"Cadastrar Aluno"})]}),(0,h.jsx)(S.kyg,{style:{width:"35px",height:"35px",alignSelf:"left",marginRight:"15px",cursor:"pointer"},onClick:function(e){return f(!x)}})]}),(0,h.jsxs)("form",{className:W,onSubmit:He?lt:dt,children:[(0,h.jsxs)("div",{className:T,children:[(0,h.jsx)("label",{children:"Nome:"}),(0,h.jsx)("input",{type:"text",id:"name_user_ead_one",onChange:function(e){return G(e.target.value)},defaultValue:He?me[Ye].nome:U})]}),(0,h.jsxs)("div",{className:T,children:[(0,h.jsx)("label",{children:"E-mail:"}),(0,h.jsx)("input",{type:"text",id:"email_user_ead_one",onChange:function(e){return H(e.target.value)},defaultValue:He?me[Ye].email:q})]}),(0,h.jsxs)("div",{className:T,children:[(0,h.jsx)("label",{children:"Telefone:"}),(0,h.jsx)("input",{type:"text",id:"phone_user_ead_one",onChange:function(e){return ee(e.target.value)},defaultValue:He?me[Ye].telefone:$})]}),(0,h.jsxs)("div",{className:T,children:[(0,h.jsx)("label",{children:"Senha:"}),(0,h.jsx)("input",{type:"password",id:"password_user_ead_one",onChange:function(e){return Y(e.target.value)},defaultValue:He?me[Ye].email:Q})]}),(0,h.jsx)(V.Z,{className:P,variant:"contained",type:"submit",loading:Me,children:He?"Atualizar":"Cadastrar"}),Pe?(0,h.jsx)("p",{style:{color:"green",marginTop:"10px"},children:Pe}):(0,h.jsx)("p",{style:{color:"red",marginTop:"10px"},children:Le})]})]})}),(0,h.jsxs)(Z.Z,{className:A,children:[(0,h.jsxs)("div",{className:D,style:{paddingLeft:"1rem"},children:[(0,h.jsx)(L.Otr,{style:{width:"35px",height:"35px"}})," ",(0,h.jsx)("h3",{children:"Alunos cadastrados"})]}),(0,h.jsxs)(Z.Z,{children:[(0,h.jsx)(m.Z,{}),(0,h.jsx)(j.Z,{children:(0,h.jsxs)(v.Z,{children:[(0,h.jsx)(g.Z,{children:(0,h.jsxs)(y.Z,{children:[(0,h.jsx)(_.Z,{children:"Usu\xe1rio"}),(0,h.jsx)(_.Z,{children:"Nome"}),(0,h.jsx)(_.Z,{children:"Email"}),(0,h.jsx)(_.Z,{children:"Telefone"}),(0,h.jsx)(_.Z,{children:"Data Cadastro"}),(0,h.jsx)(_.Z,{children:"A\xe7\xf5es"})]})}),(0,h.jsx)(b.Z,{children:0!=me.length&&me.map((function(e,t){return(0,h.jsxs)(y.Z,{children:[(0,h.jsx)(_.Z,{children:(0,h.jsxs)(c.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:[e.username," ",t+1,"\xb0"]})}),(0,h.jsx)(_.Z,{children:(0,h.jsx)(c.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.nome})}),(0,h.jsx)(_.Z,{children:(0,h.jsx)(c.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.email})}),(0,h.jsx)(_.Z,{children:(0,h.jsx)(c.Z,{variant:"body1",fontWeight:"bold",color:"text.secondary",gutterBottom:!0,noWrap:!0,children:e.telefone})}),(0,h.jsx)(_.Z,{children:(0,h.jsx)(c.Z,{variant:"body1",fontWeight:"bold",color:"text.secondary",gutterBottom:!0,noWrap:!0,children:e.data_cadastro})}),(0,h.jsxs)(_.Z,{style:{textAlign:"center",display:"flex",alignItems:"center",gap:"10px"},children:[(0,h.jsx)(z.Hlf,{style:{width:"25px",height:"25px",cursor:"pointer"},onClick:function(n){return function(e,t){Re(t),Fe(!0),Se(e)}(e.aluno_id,t)}}),(0,h.jsx)(S.YK6,{style:{width:"25px",height:"25px",color:"red",cursor:"pointer"},onClick:function(t){return ht(t,e.aluno_id)}})]})]},t)}))})]})})]})]})]}),!x&&"yes"==et&&(0,h.jsxs)(Z.Z,{children:[(0,h.jsx)("div",{style:{paddingLeft:"1rem"},children:(0,h.jsx)("h3",{children:"Produtos"})}),(0,h.jsx)(m.Z,{}),(0,h.jsx)(j.Z,{children:(0,h.jsx)(v.Z,{children:(0,h.jsx)(b.Z,{children:i&&i.map((function(e,t){return(0,h.jsxs)(y.Z,{className:B,onClick:function(e){return f(!x)},children:[(0,h.jsx)(_.Z,{children:(0,h.jsx)(c.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.nome})}),(0,h.jsx)(_.Z,{children:(0,h.jsx)(c.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0})}),(0,h.jsx)(_.Z,{style:{textAlign:"right",display:"flex",alignItems:"right",flexDirection:"row",gap:"10px",justifyContent:"right"},children:(0,h.jsx)(S.mGl,{style:{width:"35px",height:"35px"}})})]},t)}))})})})]}),"no"==et||"????"==et&&(0,h.jsx)(Z.Z,{style:{padding:"1rem"},children:(0,h.jsx)("p",{children:"Voc\xea optou por n\xe3o fazer treinamento (Curso EAD) para operar esta m\xe1quina."})})]})};var M=function(){var e=u.useContext(d.S).usuario,t=u.useState(null),n=(0,s.Z)(t,2),c=n[0],l=n[1];function Z(){return(Z=(0,a.Z)((0,r.Z)().mark((function t(){var n,a;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w.Z.get("/pedidos/dashboard/".concat(null===e||void 0===e?void 0:e.id));case 2:n=t.sent,a=n.data,l(a[0].itens[0].id_produto);case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return u.useEffect((function(){!function(){Z.apply(this,arguments)}()}),[]),(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(i.ql,{children:(0,h.jsx)("title",{children:"Vendas - Pedidos"})}),(0,h.jsx)(x.Z,{children:(0,h.jsx)(p,{})}),(0,h.jsx)(f.Z,{maxWidth:"lg",children:(0,h.jsx)(o.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,h.jsx)(o.ZP,{item:!0,xs:12,children:(0,h.jsx)(O,{devolution:c})})})})]})}}}]);
//# sourceMappingURL=738.f069872e.chunk.js.map