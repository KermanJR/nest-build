"use strict";(self.webpackChunknest_rental=self.webpackChunknest_rental||[]).push([[464],{69141:function(e,n,t){var r=t(29439),o=t(72791),i=t(24518),a=t(64554),s=t(20890),l=t(13400),c=t(71715),d=t(66934),u=t(68036),h=t(74934),x=t(80184),p=(0,d.ZP)(i.Z)((function(e){var n=e.theme;return"\n     background: ".concat(n.colors.error.main,";\n     color: ").concat(n.palette.error.contrastText,";\n\n     &:hover {\n        background: ").concat(n.colors.error.dark,";\n     }\n    ")}));n.Z=function(){var e=(0,o.useState)(!1),n=(0,r.Z)(e,2),t=n[0],i=n[1],d=(0,o.useRef)(null);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(a.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,x.jsxs)(a.Z,{display:"flex",alignItems:"center",children:[(0,x.jsx)(s.Z,{variant:"h5",color:"text.secondary",children:"A\xe7\xf5es:"}),(0,x.jsx)(p,{sx:{ml:1},startIcon:(0,x.jsx)(u.Z,{}),variant:"contained",children:"Excluir"})]}),(0,x.jsx)(l.Z,{color:"primary",onClick:function(){i(!0)},ref:d,sx:{ml:2,p:1},children:(0,x.jsx)(h.Z,{})})]}),(0,x.jsx)(c.Z,{keepMounted:!0,anchorEl:d.current,open:t,onClose:function(){i(!1)},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}})]})}},33663:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var r=t(6907),o=t(29439),i=t(61889),a=t(20890),s=t(72791),l=t(5167),c=t(80184);var d=function(){var e=(0,s.useContext)(l.S).usuario,n=s.useState(!1),t=(0,o.Z)(n,2);return t[0],t[1],(0,c.jsx)(i.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:(0,c.jsxs)(i.ZP,{item:!0,children:[(0,c.jsx)(a.Z,{variant:"h3",component:"h3",gutterBottom:!0,children:"Pedidos"}),(0,c.jsxs)(a.Z,{variant:"subtitle2",children:[1===(null===e||void 0===e?void 0:e.id_perfil)&&(0,c.jsx)("label",{children:"Cadastre novos pedidos da sua empresa."}),2===(null===e||void 0===e?void 0:e.id_perfil)&&(0,c.jsx)("label",{children:"Consulte novos pedidos da sua empresa."}),3===(null===e||void 0===e?void 0:e.id_perfil)&&(0,c.jsxs)("label",{children:[null===e||void 0===e?void 0:e.nome_fantasia,", consulte novos pedidos da sua empresa."]})]})]})})},u=t(68418),h=t(91614),x=t(74165),p=t(15861),Z=t(57621),j=t(93433),v=t(30960),f=t(26098),g=t.n(f),m=t(13967),y=t(64554),b=t(9585),C=t(68096),P=t(94721),k=t(39281),W=t(79836),w=t(56890),S=t(35855),_=t(53994),z=t(53382),B=t(94454),I=t(70493),M=t(13400),D=t(97513),E=t(34045),F=t(69141),A=t(56355),O=t(91183),R=t(72426),V=t.n(R),q=t(39126),N=function(e){var n=e.ordersClient,t=e.panel,r=(0,s.useState)([]),i=(0,o.Z)(r,2),d=i[0],u=i[1],h=d.length>0,f=(0,s.useState)(0),R=(0,o.Z)(f,2),N=R[0],T=R[1],$=(0,s.useState)(5),G=(0,o.Z)($,2),H=G[0],J=G[1],K=(0,s.useCallback)((function(){var e=E.P6.json_to_sheet(n),t=E.P6.book_new();E.P6.book_append_sheet(t,e,"Data"),(0,E.Fv)(t,"Pedidos.xlsx")}),[n]),L=n.filter((function(e){return!0})),Q=(function(e,n,t){e.slice(n*t,n*t+t)}(L,N,H),d.length>0&&(d.length,n.length),d.length,n.length,(0,m.Z)()),U=(0,s.useState)({}),X=(0,o.Z)(U,2),Y=X[0],ee=X[1],ne=(0,s.useState)([]),te=(0,o.Z)(ne,2),re=(te[0],te[1],(0,s.useState)(!1)),oe=(0,o.Z)(re,2),ie=oe[0],ae=oe[1];function se(){return se=(0,p.Z)((0,x.Z)().mark((function e(n){var t,r;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ae(!ie),ee(null),e.next=4,v.hi.get("/pedidos/".concat(n));case 4:t=e.sent,r=t.data,ee(r?{data:r}:null);case 7:case"end":return e.stop()}}),e)}))),se.apply(this,arguments)}(0,s.useContext)(l.S).usuario;return(0,c.jsxs)(Z.Z,{children:[h&&(0,c.jsx)(y.Z,{flex:1,p:2,children:(0,c.jsx)(F.Z,{})}),!h&&(0,c.jsx)(b.Z,{action:(0,c.jsxs)(y.Z,{width:150,children:[(0,c.jsx)(C.Z,{fullWidth:!0,variant:"outlined"}),!t&&(0,c.jsx)(A.veA,{onClick:K,style:{textAlign:"right",position:"relative",left:"7rem",height:"25px",width:"25px",cursor:"pointer"}})]}),title:t?"Pedidos recentes":"Pedidos cadastrados"}),(0,c.jsx)(P.Z,{}),(0,c.jsx)(k.Z,{children:(0,c.jsxs)(W.Z,{children:[(0,c.jsx)(w.Z,{children:(0,c.jsxs)(S.Z,{children:[(0,c.jsx)(_.Z,{}),(0,c.jsx)(_.Z,{children:"Empresa"}),(0,c.jsx)(_.Z,{children:"Contato"}),(0,c.jsx)(_.Z,{children:"In\xedcio e Devolu\xe7\xe3o"}),(0,c.jsx)(_.Z,{align:"right",children:"Valor"}),(0,c.jsx)(_.Z,{align:"right",children:"Status"}),(0,c.jsx)(_.Z,{align:"right",children:"A\xe7\xf5es"})]})}),(0,c.jsx)(z.Z,{children:n.map((function(e){var n,t,r=d.includes(e.id);return(0,c.jsxs)(S.Z,{hover:!0,selected:r,children:[(0,c.jsx)(_.Z,{padding:"checkbox",children:(0,c.jsx)(B.Z,{color:"primary",checked:r,onChange:function(n){return t=e.id,void(d.includes(t)?u((function(e){return e.filter((function(e){return e!==t}))})):u((function(e){return[].concat((0,j.Z)(e),[t])})));var t},value:r})}),(0,c.jsx)(_.Z,{children:(0,c.jsx)(a.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:null===e||void 0===e||null===(n=e.cliente)||void 0===n?void 0:n.razao_social})}),(0,c.jsx)(_.Z,{children:(0,c.jsx)(a.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:null===e||void 0===e||null===(t=e.cliente)||void 0===t?void 0:t.email})}),(0,c.jsxs)(_.Z,{children:[(0,c.jsx)(a.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:V()(e.data_inicio).utc().format("DD/MM/yyyy")}),(0,c.jsx)(a.Z,{variant:"body1",fontWeight:"bold",color:"text.secondary",gutterBottom:!0,noWrap:!0,children:V()(e.data_entrega).utc().format("DD/MM/yyyy")})]}),(0,c.jsxs)(_.Z,{align:"right",children:[(0,c.jsx)(a.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0}),(0,c.jsxs)(a.Z,{variant:"body2",color:"text.secondary",noWrap:!0,children:["R$",g()(e.vr_total).format("0,0.00")]})]}),(0,c.jsxs)(_.Z,{align:"right",children:[(0,c.jsx)(a.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0}),(0,c.jsxs)(a.Z,{variant:"body2",color:"text.secondary",noWrap:!0,children:["encerrado"===(null===e||void 0===e?void 0:e.status)&&(0,c.jsx)("p",{style:{color:"red",fontSize:".875rem",fontWeight:"bold"},children:"Encerrado"}),"aberto"===(null===e||void 0===e?void 0:e.status)&&(0,c.jsx)("p",{style:{color:"green",fontSize:".875rem",fontWeight:"bold"},children:"Em aberto"})]})]}),(0,c.jsx)(_.Z,{align:"right",children:(0,c.jsx)(I.Z,{title:"Visualizar pedido",arrow:!0,children:(0,c.jsx)(M.Z,{sx:{"&:hover":{background:Q.colors.primary.lighter},color:Q.palette.primary.main},color:"inherit",size:"small",onClick:function(n){return function(e){return se.apply(this,arguments)}(null===e||void 0===e?void 0:e.id)},children:(0,c.jsx)(q.rCC,{style:{width:"20px",height:"20px"}})})})})]},e.id)}))})]})}),(0,c.jsx)(y.Z,{p:2,children:(0,c.jsx)(D.Z,{component:"div",count:L.length,onPageChange:function(e,n){T(n)},onRowsPerPageChange:function(e){J(parseInt(e.target.value))},page:N,rowsPerPage:H,rowsPerPageOptions:[5,10,25,30]})}),Y&&ie&&(0,c.jsx)(O.F,{openModal:ie,setModal:ae,data:Y,edit:!0})]})};N.defaultProps={ordersClient:[]};var T=N,$=t(5229);var G=function(){var e=(0,s.useState)([]),n=(0,o.Z)(e,2),t=n[0],r=n[1],i=(0,s.useState)([{}]),a=(0,o.Z)(i,2),d=(a[0],a[1],(0,s.useContext)(l.S).usuario),u=function(){var e=(0,p.Z)((0,x.Z)().mark((function e(){var n,t;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(null===d||void 0===d?void 0:d.id)){e.next=6;break}return e.next=3,$.Z.get("/pedidos/dashboard/".concat(null===d||void 0===d?void 0:d.id));case 3:n=e.sent,t=n.data,r(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){u()}),[void 0!==(null===d||void 0===d?void 0:d.id)]),(0,c.jsx)(Z.Z,{children:t?(0,c.jsx)(T,{panel:!0,ordersClient:t||[],className:""}):(0,c.jsx)(c.Fragment,{})})};var H=function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.ql,{children:(0,c.jsx)("title",{children:"Vendas - Pedidos"})}),(0,c.jsx)(u.Z,{children:(0,c.jsx)(d,{})}),(0,c.jsx)(h.Z,{maxWidth:"lg",children:(0,c.jsx)(i.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,c.jsx)(i.ZP,{item:!0,xs:12,children:(0,c.jsx)(G,{})})})})]})}}}]);
//# sourceMappingURL=464.908c3756.chunk.js.map