"use strict";(self.webpackChunknest_rental=self.webpackChunknest_rental||[]).push([[769],{62296:function(e,n,t){t.d(n,{U:function(){return f}});var r=t(74165),o=t(15861),a=t(29439),c=t(98243),i=t(78820),s=t(72791),l=t(39709),d=t(88315),u=t(97438),h=t(5229),p=t(80184),f=function(e){var n=e.openModal,t=e.setModal,f=e.data,m=e.edit,Z=(0,s.useState)(""),v=(0,a.Z)(Z,2),x=v[0],j=v[1],g=(0,s.useState)(""),b=(0,a.Z)(g,2),_=b[0],k=b[1],y=(0,s.useState)(""),C=(0,a.Z)(y,2),w=C[0],M=C[1],S=(0,s.useState)(!1),z=(0,a.Z)(S,2),P=z[0],B=z[1],I=(0,s.useState)(""),F=(0,a.Z)(I,2),E=F[0],R=F[1];function T(){return(T=(0,o.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),B(!0),h.Z.put("/marcas/".concat(w),{nome:x,identificador:"???"}).then((function(e){202==e.status&&R("Marca editada com sucesso")})).catch((function(e){return R("Erro no servidor, por favor, tente novamente.")})),B(!1),window.location.reload();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=(0,o.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),B(!0),h.Z.post("/marcas",{nome:_,identificador:"???"}).then((function(e){202==e.status&&R("Marca criada com sucesso")})).catch((function(e){return R("Erro no servidor, por favor, tente novamente.")})),B(!1),window.location.reload();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.useEffect)((function(){f&&(j(f.nome),M(f.id))}),[f]),(0,p.jsx)(p.Fragment,{children:n&&(0,p.jsxs)("div",{className:c.Z.modalCategory,style:{backgroundColor:"rgb(255, 255, 255)"},children:[(0,p.jsx)("div",{className:c.Z.modal__divCloseButton,children:(0,p.jsx)("button",{className:c.Z.modal__divCloseButton__closeButton,onClick:function(e){return t(!n)},children:(0,p.jsx)(i.LHV,{})})}),(0,p.jsx)(d.D,{children:"Nova marca"}),(0,p.jsxs)("form",{onSubmit:m?function(e){return T.apply(this,arguments)}:function(e){return H.apply(this,arguments)},children:[(0,p.jsx)("div",{style:{marginTop:"1rem"},children:(0,p.jsx)(u.Z,{id:"brand_name",type:"text",label:"Nome",fullWidth:!0,required:!0,color:"primary",placeholder:"Digite o nome da nova marca",onChange:m?function(e){return j(e.target.value)}:function(e){return k(e.target.value)},value:m?x:_})}),(0,p.jsxs)("div",{style:{display:"flex",gridGap:"1rem",marginTop:"1rem"},children:[m?(0,p.jsx)(l.Z,{color:"primary",type:"submit",variant:"contained",size:"medium",loading:!!P,children:"Editar"}):(0,p.jsx)(l.Z,{color:"primary",type:"submit",variant:"contained",size:"medium",loading:!!P,children:"Cadastrar"}),(0,p.jsx)(l.Z,{color:"warning",size:"medium",variant:"contained",onClick:function(e){return t(!n)},children:"Cancelar"})]}),!P&&E&&(0,p.jsx)("p",{children:E})]})]})})}},68418:function(e,n,t){var r=t(66934),o=t(64554),a=t(91614),c=t(80184),i=(0,r.ZP)(o.Z)((function(e){var n=e.theme;return"\n        padding: ".concat(n.spacing(4),";\n")}));n.Z=function(e){var n=e.children;return(0,c.jsx)(i,{className:"MuiPageTitle-wrapper",children:(0,c.jsx)(a.Z,{maxWidth:"lg",children:n})})}},49769:function(e,n,t){t.r(n),t.d(n,{default:function(){return Y}});var r=t(6907),o=t(29439),a=t(61889),c=t(20890),i=t(24518),s=t(74696),l=t(72791),d=t(5167),u=t(62296),h=t(80184);var p=function(){var e=l.useState(!1),n=(0,o.Z)(e,2),t=n[0],r=n[1],p=(0,l.useContext)(d.S).usuario;return(0,h.jsxs)(a.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:[(0,h.jsxs)(a.ZP,{item:!0,children:[(0,h.jsx)(c.Z,{variant:"h3",component:"h3",gutterBottom:!0,children:"Marcas"}),(0,h.jsx)(c.Z,{variant:"subtitle2",children:"Gerencie as marcas dos seus produtos"})]}),(0,h.jsx)(a.ZP,{item:!0,children:3===(null===p||void 0===p?void 0:p.id_perfil)?"":(0,h.jsx)(i.Z,{sx:{mt:{xs:2,md:0}},variant:"contained",startIcon:(0,h.jsx)(s.Z,{fontSize:"small"}),style:{backgroundColor:"rgb(18, 80, 130)"},onClick:function(e){return r(!t)},children:"Cadastrar marca"})}),(0,h.jsx)(u.U,{data:null,setModal:r,openModal:t,edit:!1})]})},f=t(68418),m=t(91614),Z=t(74165),v=t(15861),x=t(57621),j=t(5229),g=t(93433),b=t(13967),_=t(64554),k=t(9585),y=t(94721),C=t(39281),w=t(79836),M=t(56890),S=t(35855),z=t(53994),P=t(53382),B=t(94454),I=t(70493),F=t(13400),E=t(97513),R=t(34045),T=t(31675),H=t(71715),N=t(66934),V=t(68036),D=t(74934),L=(0,N.ZP)(i.Z)((function(e){var n=e.theme;return"\n     background: ".concat(n.colors.error.main,";\n     color: ").concat(n.palette.error.contrastText,";\n\n     &:hover {\n        background: ").concat(n.colors.error.dark,";\n     }\n    ")}));var O=function(e){var n=e.id_brand,t=(0,l.useState)(!1),r=(0,o.Z)(t,2),a=r[0],i=r[1],s=(0,l.useRef)(null),d=(0,l.useState)(""),u=(0,o.Z)(d,2),p=(u[0],u[1]),f=(0,l.useState)(""),m=(0,o.Z)(f,2),x=(m[0],m[1],(0,l.useState)(!1)),j=(0,o.Z)(x,2),g=(j[0],j[1]),b=function(){var e=(0,v.Z)((0,Z.Z)().mark((function e(t){var r,o;return(0,Z.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),t.preventDefault(),r=fetch("https://nestrental.com.br:80/api/marcas/".concat(n[0]),{method:"DELETE"}),e.next=5,r;case 5:return o=e.sent,e.next=8,o.json();case 8:e.sent,p("Marca exclu\xedda com sucesso."),window.location.reload();case 11:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)(_.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,h.jsxs)(_.Z,{display:"flex",alignItems:"center",children:[(0,h.jsx)(c.Z,{variant:"h5",color:"text.secondary",children:"A\xe7\xf5es:"}),(0,h.jsx)(L,{sx:{ml:1},startIcon:(0,h.jsx)(V.Z,{}),variant:"contained",onClick:function(e){return b(e)},children:"Excluir"})]}),(0,h.jsx)(F.Z,{color:"primary",onClick:function(){i(!0)},ref:s,sx:{ml:2,p:1},children:(0,h.jsx)(D.Z,{})})]}),(0,h.jsx)(H.Z,{keepMounted:!0,anchorEl:s.current,open:a,onClose:function(){i(!1)},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}})]})},q=t(56355),A=t(30960),W=function(e){var n=e.brands,t=(0,l.useState)([]),r=(0,o.Z)(t,2),a=r[0],i=r[1],s=(0,l.useState)(0),d=(0,o.Z)(s,2),p=d[0],f=d[1],m=(0,l.useState)(5),j=(0,o.Z)(m,2),H=j[0],N=j[1],V=(0,l.useState)(null),D=(0,o.Z)(V,2),L=D[0],W=D[1],G=(0,l.useState)(!1),U=(0,o.Z)(G,2),Y=U[0],K=U[1],X=a.length>0,J=(0,l.useCallback)((function(){var e=R.P6.json_to_sheet(n),t=R.P6.book_new();R.P6.book_append_sheet(t,e,"Data"),(0,R.Fv)(t,"Marcas.xlsx")}),[n]),Q=function(e){return e.filter((function(e){return!0}))}(n),$=function(e,n,t){return e.slice(n*t,n*t+t)}(Q,p,H),ee=(a.length>0&&(a.length,n.length),a.length,n.length,(0,b.Z)());function ne(){return ne=(0,v.Z)((0,Z.Z)().mark((function e(n){var t,r;return(0,Z.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return K(!Y),W(null),e.next=4,A.hi.get("/marcas/".concat(n));case 4:t=e.sent,r=t.data,W(r||null);case 7:case"end":return e.stop()}}),e)}))),ne.apply(this,arguments)}return(0,h.jsxs)(x.Z,{children:[X&&(0,h.jsx)(_.Z,{flex:1,p:2,children:(0,h.jsx)(O,{id_brand:a})}),!X&&(0,h.jsx)(k.Z,{action:(0,h.jsx)(_.Z,{width:150,children:(0,h.jsx)(q.veA,{onClick:J,style:{textAlign:"right",position:"relative",left:"7rem",height:"25px",width:"25px",cursor:"pointer"}})}),title:"Marcas cadastradas"}),(0,h.jsx)(y.Z,{}),(0,h.jsx)(C.Z,{children:(0,h.jsxs)(w.Z,{children:[(0,h.jsx)(M.Z,{children:(0,h.jsxs)(S.Z,{children:[(0,h.jsx)(z.Z,{}),(0,h.jsx)(z.Z,{children:"Nome marca"}),(0,h.jsx)(z.Z,{children:"ID Marca"}),(0,h.jsx)(z.Z,{align:"right",children:"A\xe7\xf5es"})]})}),(0,h.jsx)(P.Z,{children:$.map((function(e){var n=a.includes(e.id);return(0,h.jsxs)(S.Z,{hover:!0,selected:n,children:[(0,h.jsx)(z.Z,{padding:"checkbox",children:(0,h.jsx)(B.Z,{color:"primary",checked:n,onChange:function(n){return t=e.id,void(a.includes(t)?i((function(e){return e.filter((function(e){return e!==t}))})):i((function(e){return[].concat((0,g.Z)(e),[t])})));var t},value:n})}),(0,h.jsx)(z.Z,{children:(0,h.jsx)(c.Z,{variant:"body2",color:"text.secondary",noWrap:!0,children:e.nome})}),(0,h.jsx)(z.Z,{children:(0,h.jsx)(c.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:e.identificador})}),(0,h.jsx)(z.Z,{align:"right",children:(0,h.jsx)(I.Z,{title:"Editar Marca",arrow:!0,children:(0,h.jsx)(F.Z,{sx:{"&:hover":{background:ee.colors.primary.lighter},color:ee.palette.primary.main},color:"inherit",size:"small",onClick:function(n){return function(e){return ne.apply(this,arguments)}(e.id)},children:(0,h.jsx)(T.Z,{fontSize:"small"})})})})]},e.id)}))})]})}),(0,h.jsx)(_.Z,{p:2,children:(0,h.jsx)(E.Z,{component:"div",count:Q.length,onPageChange:function(e,n){f(n)},onRowsPerPageChange:function(e){N(parseInt(e.target.value))},page:p,rowsPerPage:H,rowsPerPageOptions:[5,10,25,30]})}),L&&Y&&(0,h.jsx)(u.U,{openModal:Y,setModal:K,data:L,edit:!0})]})};W.defaultProps={brands:[]};var G=W;var U=function(){var e=(0,l.useState)([]),n=(0,o.Z)(e,2),t=n[0],r=n[1];function a(){return(a=(0,v.Z)((0,Z.Z)().mark((function e(){var n,t;return(0,Z.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.Z.get("/marcas");case 2:n=e.sent,t=n.data,r(t);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,l.useEffect)((function(){!function(){a.apply(this,arguments)}()}),[]),(0,h.jsx)(x.Z,{children:(0,h.jsx)(G,{brands:t||[],panel:!1,className:""})})};var Y=function(){return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(r.ql,{children:(0,h.jsx)("title",{children:"Marcas - Produtos"})}),(0,h.jsx)(f.Z,{children:(0,h.jsx)(p,{})}),(0,h.jsx)(m.Z,{maxWidth:"lg",children:(0,h.jsx)(a.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,h.jsx)(a.ZP,{item:!0,xs:12,children:(0,h.jsx)(U,{})})})})]})}},74696:function(e,n,t){var r=t(95318);n.Z=void 0;var o=r(t(45649)),a=t(80184),c=(0,o.default)((0,a.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddTwoTone");n.Z=c},68036:function(e,n,t){var r=t(95318);n.Z=void 0;var o=r(t(45649)),a=t(80184),c=(0,o.default)([(0,a.jsx)("path",{d:"M8 9h8v10H8z",opacity:".3"},"0"),(0,a.jsx)("path",{d:"m15.5 4-1-1h-5l-1 1H5v2h14V4zM6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9z"},"1")],"DeleteTwoTone");n.Z=c},31675:function(e,n,t){var r=t(95318);n.Z=void 0;var o=r(t(45649)),a=t(80184),c=(0,o.default)([(0,a.jsx)("path",{d:"M5 18.08V19h.92l9.06-9.06-.92-.92z",opacity:".3"},"0"),(0,a.jsx)("path",{d:"M20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29s-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83zM3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06.92.92L5.92 19z"},"1")],"EditTwoTone");n.Z=c},74934:function(e,n,t){var r=t(95318);n.Z=void 0;var o=r(t(45649)),a=t(80184),c=(0,o.default)((0,a.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVertTwoTone");n.Z=c},94454:function(e,n,t){t.d(n,{Z:function(){return w}});var r=t(4942),o=t(63366),a=t(87462),c=t(72791),i=t(94419),s=t(12065),l=t(97278),d=t(76189),u=t(80184),h=(0,d.Z)((0,u.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),p=(0,d.Z)((0,u.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),f=(0,d.Z)((0,u.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),m=t(14036),Z=t(31402),v=t(66934),x=t(21217);function j(e){return(0,x.Z)("MuiCheckbox",e)}var g=(0,t(75878).Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),b=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],_=(0,v.ZP)(l.Z,{shouldForwardProp:function(e){return(0,v.FO)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,t.indeterminate&&n.indeterminate,"default"!==t.color&&n["color".concat((0,m.Z)(t.color))]]}})((function(e){var n,t=e.theme,o=e.ownerState;return(0,a.Z)({color:t.palette.text.secondary},!o.disableRipple&&{"&:hover":{backgroundColor:(0,s.Fq)("default"===o.color?t.palette.action.active:t.palette[o.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==o.color&&(n={},(0,r.Z)(n,"&.".concat(g.checked,", &.").concat(g.indeterminate),{color:t.palette[o.color].main}),(0,r.Z)(n,"&.".concat(g.disabled),{color:t.palette.action.disabled}),n))})),k=(0,u.jsx)(p,{}),y=(0,u.jsx)(h,{}),C=(0,u.jsx)(f,{}),w=c.forwardRef((function(e,n){var t,r,s=(0,Z.Z)({props:e,name:"MuiCheckbox"}),l=s.checkedIcon,d=void 0===l?k:l,h=s.color,p=void 0===h?"primary":h,f=s.icon,v=void 0===f?y:f,x=s.indeterminate,g=void 0!==x&&x,w=s.indeterminateIcon,M=void 0===w?C:w,S=s.inputProps,z=s.size,P=void 0===z?"medium":z,B=(0,o.Z)(s,b),I=g?M:v,F=g?M:d,E=(0,a.Z)({},s,{color:p,indeterminate:g,size:P}),R=function(e){var n=e.classes,t=e.indeterminate,r=e.color,o={root:["root",t&&"indeterminate","color".concat((0,m.Z)(r))]},c=(0,i.Z)(o,j,n);return(0,a.Z)({},n,c)}(E);return(0,u.jsx)(_,(0,a.Z)({type:"checkbox",inputProps:(0,a.Z)({"data-indeterminate":g},S),icon:c.cloneElement(I,{fontSize:null!=(t=I.props.fontSize)?t:P}),checkedIcon:c.cloneElement(F,{fontSize:null!=(r=F.props.fontSize)?r:P}),ownerState:E,ref:n},B,{classes:R}))}))},97278:function(e,n,t){t.d(n,{Z:function(){return g}});var r=t(29439),o=t(63366),a=t(87462),c=t(72791),i=t(28182),s=t(94419),l=t(14036),d=t(66934),u=t(98278),h=t(52930),p=t(23701),f=t(21217);function m(e){return(0,f.Z)("PrivateSwitchBase",e)}(0,t(75878).Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var Z=t(80184),v=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],x=(0,d.ZP)(p.Z)((function(e){var n=e.ownerState;return(0,a.Z)({padding:9,borderRadius:"50%"},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})})),j=(0,d.ZP)("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),g=c.forwardRef((function(e,n){var t=e.autoFocus,c=e.checked,d=e.checkedIcon,p=e.className,f=e.defaultChecked,g=e.disabled,b=e.disableFocusRipple,_=void 0!==b&&b,k=e.edge,y=void 0!==k&&k,C=e.icon,w=e.id,M=e.inputProps,S=e.inputRef,z=e.name,P=e.onBlur,B=e.onChange,I=e.onFocus,F=e.readOnly,E=e.required,R=e.tabIndex,T=e.type,H=e.value,N=(0,o.Z)(e,v),V=(0,u.Z)({controlled:c,default:Boolean(f),name:"SwitchBase",state:"checked"}),D=(0,r.Z)(V,2),L=D[0],O=D[1],q=(0,h.Z)(),A=g;q&&"undefined"===typeof A&&(A=q.disabled);var W="checkbox"===T||"radio"===T,G=(0,a.Z)({},e,{checked:L,disabled:A,disableFocusRipple:_,edge:y}),U=function(e){var n=e.classes,t=e.checked,r=e.disabled,o=e.edge,a={root:["root",t&&"checked",r&&"disabled",o&&"edge".concat((0,l.Z)(o))],input:["input"]};return(0,s.Z)(a,m,n)}(G);return(0,Z.jsxs)(x,(0,a.Z)({component:"span",className:(0,i.Z)(U.root,p),centerRipple:!0,focusRipple:!_,disabled:A,tabIndex:null,role:void 0,onFocus:function(e){I&&I(e),q&&q.onFocus&&q.onFocus(e)},onBlur:function(e){P&&P(e),q&&q.onBlur&&q.onBlur(e)},ownerState:G,ref:n},N,{children:[(0,Z.jsx)(j,(0,a.Z)({autoFocus:t,checked:c,defaultChecked:f,className:U.input,disabled:A,id:W&&w,name:z,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var n=e.target.checked;O(n),B&&B(e,n)}},readOnly:F,ref:S,required:E,ownerState:G,tabIndex:R,type:T},"checkbox"===T&&void 0===H?{}:{value:H},M)),L?d:C]}))}))},98243:function(e,n){n.Z={modal:"Modal_modal__5Lj9m",modal__divCloseButton:"Modal_modal__divCloseButton__tTZ3Y",modal__divCloseButton__closeButton:"Modal_modal__divCloseButton__closeButton__ABY0m",modal__closeButton:"Modal_modal__closeButton__ZDrqX",modalCategory:"Modal_modalCategory__IjrSy",modalCategory__divCloseButton:"Modal_modalCategory__divCloseButton__5mZKo",modalCategory__closeButton:"Modal_modalCategory__closeButton__fGLZH"}}}]);
//# sourceMappingURL=769.0a5d2048.chunk.js.map