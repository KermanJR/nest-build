"use strict";(self.webpackChunknest_rental=self.webpackChunknest_rental||[]).push([[464],{69141:function(e,n,t){var r=t(29439),i=t(72791),o=t(24518),a=t(64554),s=t(20890),l=t(13400),c=t(71715),d=t(66934),u=t(68036),h=t(74934),x=t(80184),p=(0,d.ZP)(o.Z)((function(e){var n=e.theme;return"\n     background: ".concat(n.colors.error.main,";\n     color: ").concat(n.palette.error.contrastText,";\n\n     &:hover {\n        background: ").concat(n.colors.error.dark,";\n     }\n    ")}));n.Z=function(){var e=(0,i.useState)(!1),n=(0,r.Z)(e,2),t=n[0],o=n[1],d=(0,i.useRef)(null);return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsxs)(a.Z,{display:"flex",alignItems:"center",justifyContent:"space-between",children:[(0,x.jsxs)(a.Z,{display:"flex",alignItems:"center",children:[(0,x.jsx)(s.Z,{variant:"h5",color:"text.secondary",children:"A\xe7\xf5es:"}),(0,x.jsx)(p,{sx:{ml:1},startIcon:(0,x.jsx)(u.Z,{}),variant:"contained",children:"Excluir"})]}),(0,x.jsx)(l.Z,{color:"primary",onClick:function(){o(!0)},ref:d,sx:{ml:2,p:1},children:(0,x.jsx)(h.Z,{})})]}),(0,x.jsx)(c.Z,{keepMounted:!0,anchorEl:d.current,open:t,onClose:function(){o(!1)},anchorOrigin:{vertical:"center",horizontal:"center"},transformOrigin:{vertical:"center",horizontal:"center"}})]})}},33663:function(e,n,t){t.r(n),t.d(n,{default:function(){return H}});var r=t(6907),i=t(29439),o=t(61889),a=t(20890),s=t(72791),l=t(5167),c=t(80184);var d=function(){var e=(0,s.useContext)(l.S).usuario,n=s.useState(!1),t=(0,i.Z)(n,2);return t[0],t[1],(0,c.jsx)(o.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",children:(0,c.jsxs)(o.ZP,{item:!0,children:[(0,c.jsx)(a.Z,{variant:"h3",component:"h3",gutterBottom:!0,children:"Pedidos"}),(0,c.jsxs)(a.Z,{variant:"subtitle2",children:[1===(null===e||void 0===e?void 0:e.id_perfil)&&(0,c.jsx)("label",{children:"Cadastre novos pedidos da sua empresa."}),2===(null===e||void 0===e?void 0:e.id_perfil)&&(0,c.jsx)("label",{children:"Consulte novos pedidos da sua empresa."}),3===(null===e||void 0===e?void 0:e.id_perfil)&&(0,c.jsxs)("label",{children:[null===e||void 0===e?void 0:e.nome_fantasia,", consulte novos pedidos da sua empresa."]})]})]})})},u=t(68418),h=t(91614),x=t(74165),p=t(15861),j=t(57621),v=t(93433),Z=t(30960),f=t(26098),g=t.n(f),m=t(13967),y=t(64554),b=t(9585),C=t(68096),P=t(94721),k=t(39281),W=t(79836),w=t(56890),_=t(35855),S=t(53994),z=t(53382),B=t(94454),I=t(70493),M=t(13400),D=t(97513),E=t(34045),F=t(69141),A=t(56355),O=t(91183),R=t(72426),V=t.n(R),q=t(39126),N=function(e){var n=e.ordersClient,t=e.panel,r=(0,s.useState)([]),o=(0,i.Z)(r,2),l=o[0],d=o[1],u=l.length>0,h=(0,s.useState)(0),f=(0,i.Z)(h,2),R=f[0],N=f[1],T=(0,s.useState)(5),$=(0,i.Z)(T,2),G=$[0],H=$[1],J=(0,s.useCallback)((function(){var e=E.P6.json_to_sheet(n),t=E.P6.book_new();E.P6.book_append_sheet(t,e,"Data"),(0,E.Fv)(t,"Pedidos.xlsx")}),[n]),K=n.filter((function(e){return!0})),L=(function(e,n,t){e.slice(n*t,n*t+t)}(K,R,G),l.length>0&&(l.length,n.length),l.length,n.length,(0,m.Z)()),Q=(0,s.useState)({}),U=(0,i.Z)(Q,2),X=U[0],Y=U[1],ee=(0,s.useState)(!1),ne=(0,i.Z)(ee,2),te=ne[0],re=ne[1];function ie(){return ie=(0,p.Z)((0,x.Z)().mark((function e(n){var t,r;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return re(!te),Y(null),e.next=4,Z.hi.get("/pedidos/".concat(n));case 4:t=e.sent,r=t.data,Y(r?{data:r}:null);case 7:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}return(0,c.jsxs)(j.Z,{children:[u&&(0,c.jsx)(y.Z,{flex:1,p:2,children:(0,c.jsx)(F.Z,{})}),!u&&(0,c.jsx)(b.Z,{action:(0,c.jsxs)(y.Z,{width:150,children:[(0,c.jsx)(C.Z,{fullWidth:!0,variant:"outlined"}),!t&&(0,c.jsx)(A.veA,{onClick:J,style:{textAlign:"right",position:"relative",left:"7rem",height:"25px",width:"25px",cursor:"pointer"}})]}),title:t?"Pedidos recentes":"Pedidos cadastrados"}),(0,c.jsx)(P.Z,{}),(0,c.jsx)(k.Z,{children:(0,c.jsxs)(W.Z,{children:[(0,c.jsx)(w.Z,{children:(0,c.jsxs)(_.Z,{children:[(0,c.jsx)(S.Z,{}),(0,c.jsx)(S.Z,{children:"Empresa"}),(0,c.jsx)(S.Z,{children:"Contato"}),(0,c.jsx)(S.Z,{children:"In\xedcio e Devolu\xe7\xe3o"}),(0,c.jsx)(S.Z,{align:"right",children:"Valor"}),(0,c.jsx)(S.Z,{align:"right",children:"Status"}),(0,c.jsx)(S.Z,{align:"right",children:"A\xe7\xf5es"})]})}),(0,c.jsx)(z.Z,{children:n.map((function(e){var n,t,r=l.includes(e.id);return(0,c.jsxs)(_.Z,{hover:!0,selected:r,children:[(0,c.jsx)(S.Z,{padding:"checkbox",children:(0,c.jsx)(B.Z,{color:"primary",checked:r,onChange:function(n){return t=e.id,void(l.includes(t)?d((function(e){return e.filter((function(e){return e!==t}))})):d((function(e){return[].concat((0,v.Z)(e),[t])})));var t},value:r})}),(0,c.jsx)(S.Z,{children:(0,c.jsx)(a.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:null===e||void 0===e||null===(n=e.cliente)||void 0===n?void 0:n.razao_social})}),(0,c.jsx)(S.Z,{children:(0,c.jsx)(a.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:null===e||void 0===e||null===(t=e.cliente)||void 0===t?void 0:t.email})}),(0,c.jsxs)(S.Z,{children:[(0,c.jsx)(a.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0,children:V()(e.data_inicio).utc().format("DD/MM/yyyy")}),(0,c.jsx)(a.Z,{variant:"body1",fontWeight:"bold",color:"text.secondary",gutterBottom:!0,noWrap:!0,children:V()(e.data_entrega).utc().format("DD/MM/yyyy")})]}),(0,c.jsxs)(S.Z,{align:"right",children:[(0,c.jsx)(a.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0}),(0,c.jsxs)(a.Z,{variant:"body2",color:"text.secondary",noWrap:!0,children:["R$",g()(e.vr_total).format("0,0.00")]})]}),(0,c.jsxs)(S.Z,{align:"right",children:[(0,c.jsx)(a.Z,{variant:"body1",fontWeight:"bold",color:"text.primary",gutterBottom:!0,noWrap:!0}),(0,c.jsxs)(a.Z,{variant:"body2",color:"text.secondary",noWrap:!0,children:["encerrado"===(null===e||void 0===e?void 0:e.status)&&(0,c.jsx)("p",{style:{color:"red",fontSize:".875rem",fontWeight:"bold"},children:"Encerrado"}),"aberto"===(null===e||void 0===e?void 0:e.status)&&(0,c.jsx)("p",{style:{color:"green",fontSize:".875rem",fontWeight:"bold"},children:"Em aberto"})]})]}),(0,c.jsx)(S.Z,{align:"right",children:(0,c.jsx)(I.Z,{title:"Visualizar pedido",arrow:!0,children:(0,c.jsx)(M.Z,{sx:{"&:hover":{background:L.colors.primary.lighter},color:L.palette.primary.main},color:"inherit",size:"small",onClick:function(n){return function(e){return ie.apply(this,arguments)}(null===e||void 0===e?void 0:e.id)},children:(0,c.jsx)(q.rCC,{style:{width:"20px",height:"20px"}})})})})]},e.id)}))})]})}),(0,c.jsx)(y.Z,{p:2,children:(0,c.jsx)(D.Z,{component:"div",count:K.length,onPageChange:function(e,n){N(n)},onRowsPerPageChange:function(e){H(parseInt(e.target.value))},page:R,rowsPerPage:G,rowsPerPageOptions:[5,10,25,30]})}),X&&te&&(0,c.jsx)(O.F,{openModal:te,setModal:re,data:X,edit:!0})]})};N.defaultProps={ordersClient:[]};var T=N,$=t(5229);var G=function(){var e=(0,s.useState)([]),n=(0,i.Z)(e,2),t=n[0],r=n[1],o=(0,s.useState)([{}]),a=(0,i.Z)(o,2),d=(a[0],a[1],(0,s.useContext)(l.S).usuario),u=function(){var e=(0,p.Z)((0,x.Z)().mark((function e(){var n,t;return(0,x.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===(null===d||void 0===d?void 0:d.id)){e.next=6;break}return e.next=3,$.Z.get("/pedidos/dashboard/".concat(null===d||void 0===d?void 0:d.id));case 3:n=e.sent,t=n.data,r(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,s.useEffect)((function(){u()}),[void 0!==(null===d||void 0===d?void 0:d.id)]),(0,c.jsx)(j.Z,{children:t?(0,c.jsx)(T,{panel:!0,ordersClient:t||[],className:""}):(0,c.jsx)(c.Fragment,{})})};var H=function(){return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(r.ql,{children:(0,c.jsx)("title",{children:"Vendas - Pedidos"})}),(0,c.jsx)(u.Z,{children:(0,c.jsx)(d,{})}),(0,c.jsx)(h.Z,{maxWidth:"lg",children:(0,c.jsx)(o.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"stretch",spacing:3,children:(0,c.jsx)(o.ZP,{item:!0,xs:12,children:(0,c.jsx)(G,{})})})})]})}}}]);
//# sourceMappingURL=464.768cd7b1.chunk.js.map